<?xml version="1.0" encoding="utf-8"?>
<network-security-config>
    <!-- Base configuration: Prevent cleartext traffic -->
    <base-config cleartextTrafficPermitted="false">
        <trust-anchors>
            <!-- Trust system CAs -->
            <certificates src="system" />
        </trust-anchors>
    </base-config>

    <!--
        Certificate Pinning Configuration

        To enable certificate pinning in production, uncomment the domain-config block below
        and provide the SHA-256 hashes of your server's public keys.

        Pin generation command:
        openssl s_client -servername api.example.com -connect api.example.com:443 | \
        openssl x509 -pubkey -noout | openssl pkey -pubin -outform der | \
        openssl dgst -sha256 -binary | openssl enc -base64
    -->

    <!--
    <domain-config cleartextTrafficPermitted="false">
        <domain includeSubdomains="true">api.sovereigncommunications.app</domain>
        <pin-set expiration="2026-12-31">
            <pin digest="SHA-256">YOUR_PRIMARY_PIN_HERE</pin>
            <pin digest="SHA-256">YOUR_BACKUP_PIN_HERE</pin>
        </pin-set>
        <trust-anchors>
            <certificates src="system" />
        </trust-anchors>
    </domain-config>
    -->

    <!--
        Development/Debug Configuration

        This allows user-installed CA certificates in debug builds for testing.
        In production, this section is automatically disabled.
    -->
    <debug-overrides>
        <trust-anchors>
            <!-- Additionally trust user-added CAs (e.g., Charles Proxy, mitmproxy) -->
            <certificates src="user" />
            <certificates src="system" />
        </trust-anchors>
    </debug-overrides>
</network-security-config>
