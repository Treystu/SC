{"file":"/Users/christymaxwell/Desktop/Luke_Stuff/GitHub/SC/core/src/error-tracking.ts","mappings":"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","names":[],"sources":["/Users/christymaxwell/Desktop/Luke_Stuff/GitHub/SC/core/src/error-tracking.ts"],"sourcesContent":["import * as Sentry from \"@sentry/browser\";\n\nexport interface ErrorContext {\n  userId?: string;\n  action?: string;\n  metadata?: Record<string, any>;\n}\n\nexport class ErrorTracker {\n  private static initialized = false;\n\n  static initialize(dsn: string, environment: string) {\n    if (this.initialized) return;\n\n    Sentry.init({\n      dsn,\n      environment,\n      tracesSampleRate: environment === \"production\" ? 0.1 : 1.0,\n      beforeSend(event, _hint) {\n        // Filter out sensitive data\n        if (event.request) {\n          delete event.request.cookies;\n          delete event.request.headers;\n        }\n        return event;\n      },\n    });\n\n    this.initialized = true;\n  }\n\n  static captureError(error: Error, context?: ErrorContext) {\n    console.error(\"[ErrorTracker]\", error, context);\n\n    if (this.initialized) {\n      Sentry.captureException(error, {\n        extra: context?.metadata,\n        tags: {\n          action: context?.action,\n        },\n        user: context?.userId ? { id: context.userId } : undefined,\n      });\n    }\n  }\n\n  static captureMessage(\n    message: string,\n    level: \"info\" | \"warning\" | \"error\" = \"info\",\n    context?: ErrorContext,\n  ) {\n    console.log(`[ErrorTracker] ${level}:`, message, context);\n\n    if (this.initialized) {\n      Sentry.captureMessage(message, {\n        level,\n        extra: context?.metadata,\n        tags: {\n          action: context?.action,\n        },\n      });\n    }\n  }\n\n  static setUser(userId: string) {\n    if (this.initialized) {\n      Sentry.setUser({ id: userId });\n    }\n  }\n\n  static clearUser() {\n    if (this.initialized) {\n      Sentry.setUser(null);\n    }\n  }\n}\n\n// Initialize in production\n// Use typeof check to support both Vite (import.meta.env) and Node.js (process.env)\nconst isProd =\n  typeof process !== \"undefined\"\n    ? process.env.NODE_ENV === \"production\"\n    : typeof window !== \"undefined\" && (window as any).__PROD__\n      ? (window as any).__PROD__\n      : false;\n\nconst sentryDsn =\n  typeof process !== \"undefined\"\n    ? process.env.VITE_SENTRY_DSN\n    : typeof window !== \"undefined\" && (window as any).__VITE_SENTRY_DSN__\n      ? (window as any).__VITE_SENTRY_DSN__\n      : undefined;\n\nconst environment =\n  typeof process !== \"undefined\"\n    ? process.env.NODE_ENV\n    : typeof window !== \"undefined\" && (window as any).__DEV__\n      ? \"development\"\n      : undefined;\n\nif (isProd && sentryDsn && environment) {\n  ErrorTracker.initialize(sentryDsn, environment);\n}\n"],"version":3}