{"file":"/Users/christymaxwell/Desktop/Luke_Stuff/GitHub/SC/core/src/performance-optimizations.test.ts","mappings":"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","names":[],"sources":["/Users/christymaxwell/Desktop/Luke_Stuff/GitHub/SC/core/src/performance-optimizations.test.ts"],"sourcesContent":["/**\n * Tests for Performance Optimizations\n */\n\nimport { describe, it, expect, beforeEach, afterEach } from '@jest/globals';\nimport {\n  LRUCache,\n  BufferPool,\n  MessageBatcher,\n  BloomFilter,\n  ConnectionPool,\n  MetricsCollector,\n  BatchItem,\n} from './performance-optimizations.js';\n\ndescribe('LRUCache', () => {\n  let cache: LRUCache<string, number>;\n\n  beforeEach(() => {\n    cache = new LRUCache<string, number>(3);\n  });\n\n  it('should store and retrieve values', () => {\n    cache.set('a', 1);\n    cache.set('b', 2);\n\n    expect(cache.get('a')).toBe(1);\n    expect(cache.get('b')).toBe(2);\n  });\n\n  it('should return undefined for missing keys', () => {\n    expect(cache.get('missing')).toBeUndefined();\n  });\n\n  it('should evict least recently used item when full', () => {\n    cache.set('a', 1);\n    cache.set('b', 2);\n    cache.set('c', 3);\n\n    // Access 'a' to make it recently used\n    cache.get('a');\n\n    // Add 'd' - should evict 'b' (least recently used)\n    cache.set('d', 4);\n\n    expect(cache.get('a')).toBe(1); // Still there\n    expect(cache.get('b')).toBeUndefined(); // Evicted\n    expect(cache.get('c')).toBe(3); // Still there\n    expect(cache.get('d')).toBe(4); // New item\n  });\n\n  it('should update existing keys without eviction', () => {\n    cache.set('a', 1);\n    cache.set('b', 2);\n    cache.set('c', 3);\n    cache.set('a', 10); // Update existing\n\n    expect(cache.get('a')).toBe(10);\n    expect(cache.size).toBe(3);\n  });\n\n  it('should track hit rate correctly', () => {\n    cache.set('a', 1);\n\n    cache.get('a'); // hit\n    cache.get('a'); // hit\n    cache.get('missing'); // miss\n\n    expect(cache.stats.hits).toBe(2);\n    expect(cache.stats.misses).toBe(1);\n    expect(cache.hitRate).toBeCloseTo(0.667, 2);\n  });\n\n  it('should delete items correctly', () => {\n    cache.set('a', 1);\n    expect(cache.delete('a')).toBe(true);\n    expect(cache.get('a')).toBeUndefined();\n    expect(cache.delete('a')).toBe(false);\n  });\n\n  it('should clear all items', () => {\n    cache.set('a', 1);\n    cache.set('b', 2);\n    cache.clear();\n\n    expect(cache.size).toBe(0);\n    expect(cache.get('a')).toBeUndefined();\n  });\n});\n\ndescribe('BufferPool', () => {\n  let pool: BufferPool;\n\n  beforeEach(() => {\n    pool = new BufferPool(10);\n  });\n\n  it('should acquire buffers of requested size', () => {\n    const buffer = pool.acquire(100);\n    expect(buffer.length).toBeGreaterThanOrEqual(100);\n  });\n\n  it('should normalize buffer sizes', () => {\n    const buffer1 = pool.acquire(50); // Should get 64\n    const buffer2 = pool.acquire(100); // Should get 128\n\n    expect(buffer1.length).toBe(64);\n    expect(buffer2.length).toBe(128);\n  });\n\n  it('should reuse released buffers', () => {\n    const buffer1 = pool.acquire(64);\n    pool.release(buffer1);\n\n    const buffer2 = pool.acquire(64);\n    expect(buffer2).toBe(buffer1);\n  });\n\n  it('should clear buffers on release for security', () => {\n    const buffer = pool.acquire(64);\n    buffer[0] = 42;\n    pool.release(buffer);\n\n    const reused = pool.acquire(64);\n    expect(reused[0]).toBe(0);\n  });\n\n  it('should provide withBuffer helper', () => {\n    const result = pool.withBuffer(100, (buffer) => {\n      buffer[0] = 1;\n      return buffer.length;\n    });\n\n    expect(result).toBeGreaterThanOrEqual(100);\n  });\n\n  it('should track statistics', () => {\n    pool.acquire(64);\n    pool.acquire(64);\n\n    const stats = pool.stats;\n    expect(stats.acquired).toBe(2);\n    expect(stats.created).toBe(2);\n  });\n});\n\ndescribe('MessageBatcher', () => {\n  let batcher: MessageBatcher;\n  let batches: BatchItem[][];\n\n  beforeEach(() => {\n    batches = [];\n    batcher = new MessageBatcher({\n      maxBatchSize: 3,\n      maxWaitMs: 100,\n      onBatch: (items) => {\n        batches.push(items);\n      },\n    });\n  });\n\n  afterEach(() => {\n    batcher.destroy();\n  });\n\n  it('should batch messages by peer', () => {\n    batcher.add({ peerId: 'peer1', data: new Uint8Array([1]) });\n    batcher.add({ peerId: 'peer1', data: new Uint8Array([2]) });\n    batcher.add({ peerId: 'peer1', data: new Uint8Array([3]) });\n\n    // Should flush after reaching maxBatchSize\n    expect(batches.length).toBe(1);\n    expect(batches[0].length).toBe(3);\n  });\n\n  it('should keep separate queues per peer', () => {\n    batcher.add({ peerId: 'peer1', data: new Uint8Array([1]) });\n    batcher.add({ peerId: 'peer2', data: new Uint8Array([2]) });\n\n    batcher.flushAll();\n\n    expect(batches.length).toBe(2);\n  });\n\n  it('should sort by priority', () => {\n    batcher.add({ peerId: 'peer1', data: new Uint8Array([1]), priority: 1 });\n    batcher.add({ peerId: 'peer1', data: new Uint8Array([2]), priority: 10 });\n    batcher.add({ peerId: 'peer1', data: new Uint8Array([3]), priority: 5 });\n\n    expect((batches[0][0] as BatchItem).priority).toBe(10); // Highest priority first\n    expect((batches[0][1] as BatchItem).priority).toBe(5);\n    expect((batches[0][2] as BatchItem).priority).toBe(1);\n  });\n\n  it('should flush on timeout', async () => {\n    batcher.add({ peerId: 'peer1', data: new Uint8Array([1]) });\n\n    // Wait for timeout\n    await new Promise((resolve) => setTimeout(resolve, 150));\n\n    expect(batches.length).toBe(1);\n  });\n\n  it('should track statistics', () => {\n    batcher.add({ peerId: 'peer1', data: new Uint8Array([1]) });\n    batcher.add({ peerId: 'peer1', data: new Uint8Array([2]) });\n    batcher.add({ peerId: 'peer1', data: new Uint8Array([3]) });\n\n    const stats = batcher.stats;\n    expect(stats.messagesBatched).toBe(3);\n    expect(stats.batchesSent).toBe(1);\n    expect(stats.avgBatchSize).toBe(3);\n  });\n});\n\ndescribe('BloomFilter', () => {\n  let filter: BloomFilter;\n\n  beforeEach(() => {\n    filter = new BloomFilter(1000, 0.01);\n  });\n\n  it('should add and check elements', () => {\n    filter.add('hello');\n    filter.add('world');\n\n    expect(filter.mightContain('hello')).toBe(true);\n    expect(filter.mightContain('world')).toBe(true);\n  });\n\n  it('should return false for elements not added', () => {\n    filter.add('hello');\n\n    // This should almost certainly be false\n    // (with very small probability of false positive)\n    expect(filter.mightContain('goodbye')).toBe(false);\n  });\n\n  it('should work with Uint8Array', () => {\n    const data = new Uint8Array([1, 2, 3, 4]);\n    filter.add(data);\n\n    expect(filter.mightContain(data)).toBe(true);\n    expect(filter.mightContain(new Uint8Array([5, 6, 7, 8]))).toBe(false);\n  });\n\n  it('should track count', () => {\n    filter.add('a');\n    filter.add('b');\n    filter.add('c');\n\n    expect(filter.count).toBe(3);\n  });\n\n  it('should clear correctly', () => {\n    filter.add('hello');\n    filter.clear();\n\n    expect(filter.mightContain('hello')).toBe(false);\n    expect(filter.count).toBe(0);\n  });\n\n  it('should maintain low false positive rate', () => {\n    // Add 500 elements\n    for (let i = 0; i < 500; i++) {\n      filter.add(`element-${i}`);\n    }\n\n    // Check 500 elements that were NOT added\n    let falsePositives = 0;\n    for (let i = 500; i < 1000; i++) {\n      if (filter.mightContain(`element-${i}`)) {\n        falsePositives++;\n      }\n    }\n\n    // Should be around 1% (5 out of 500) or less\n    expect(falsePositives).toBeLessThan(25); // Allow some margin\n  });\n});\n\ndescribe('ConnectionPool', () => {\n  let pool: ConnectionPool;\n  let closedConnections: string[];\n\n  beforeEach(() => {\n    closedConnections = [];\n    pool = new ConnectionPool({\n      maxConnections: 3,\n      idleTimeoutMs: 100,\n      cleanupIntervalMs: 50,\n    });\n  });\n\n  afterEach(() => {\n    pool.destroy();\n  });\n\n  it('should create connections', () => {\n    const conn = pool.getOrCreate('peer1', () => ({\n      peerId: 'peer1',\n      lastActivity: Date.now(),\n      isActive: true,\n      close: () => closedConnections.push('peer1'),\n    }));\n\n    expect(conn.peerId).toBe('peer1');\n    expect(pool.size).toBe(1);\n  });\n\n  it('should return existing connections', () => {\n    let createCount = 0;\n\n    const create = () => {\n      createCount++;\n      return {\n        peerId: 'peer1',\n        lastActivity: Date.now(),\n        isActive: true,\n        close: () => {},\n      };\n    };\n\n    pool.getOrCreate('peer1', create);\n    pool.getOrCreate('peer1', create);\n\n    expect(createCount).toBe(1);\n  });\n\n  it('should evict when at capacity', () => {\n    for (let i = 0; i < 3; i++) {\n      pool.getOrCreate(`peer${i}`, () => ({\n        peerId: `peer${i}`,\n        lastActivity: Date.now() - (3 - i) * 1000, // Older peers first\n        isActive: false,\n        close: () => closedConnections.push(`peer${i}`),\n      }));\n    }\n\n    // Add one more - should evict oldest\n    pool.getOrCreate('peer3', () => ({\n      peerId: 'peer3',\n      lastActivity: Date.now(),\n      isActive: false,\n      close: () => closedConnections.push('peer3'),\n    }));\n\n    expect(closedConnections).toContain('peer0');\n    expect(pool.size).toBe(3);\n  });\n\n  it('should remove connections', () => {\n    pool.getOrCreate('peer1', () => ({\n      peerId: 'peer1',\n      lastActivity: Date.now(),\n      isActive: true,\n      close: () => closedConnections.push('peer1'),\n    }));\n\n    pool.remove('peer1');\n\n    expect(closedConnections).toContain('peer1');\n    expect(pool.size).toBe(0);\n  });\n});\n\ndescribe('MetricsCollector', () => {\n  let collector: MetricsCollector;\n\n  beforeEach(() => {\n    collector = new MetricsCollector();\n  });\n\n  it('should track messages', () => {\n    collector.recordMessage();\n    collector.recordMessage();\n    collector.recordMessage();\n\n    const metrics = collector.getMetrics();\n    // Can't precisely test messagesPerSecond due to timing\n    expect(metrics.messagesPerSecond).toBeGreaterThanOrEqual(0);\n  });\n\n  it('should calculate average latency', () => {\n    collector.recordLatency(10);\n    collector.recordLatency(20);\n    collector.recordLatency(30);\n\n    const metrics = collector.getMetrics();\n    expect(metrics.averageLatencyMs).toBe(20);\n  });\n\n  it('should track peak connections', () => {\n    collector.recordConnections(5);\n    collector.recordConnections(10);\n    collector.recordConnections(3);\n\n    const metrics = collector.getMetrics();\n    expect(metrics.peakConnections).toBe(10);\n  });\n\n  it('should reset correctly', () => {\n    collector.recordMessage();\n    collector.recordLatency(100);\n    collector.recordConnections(50);\n\n    collector.reset();\n\n    const metrics = collector.getMetrics();\n    expect(metrics.averageLatencyMs).toBe(0);\n    expect(metrics.peakConnections).toBe(0);\n  });\n});\n"],"version":3}