{"file":"/Users/christymaxwell/Desktop/Luke_Stuff/GitHub/SC/core/src/error-handler.ts","mappings":"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","names":[],"sources":["/Users/christymaxwell/Desktop/Luke_Stuff/GitHub/SC/core/src/error-handler.ts"],"sourcesContent":["import { ErrorTracker } from \"./error-tracking.js\";\n\n/**\n * Error Handler - Centralized error management system\n * Task 181: Error handling and recovery utilities\n */\n\nexport enum ErrorSeverity {\n  LOW = \"low\",\n  MEDIUM = \"medium\",\n  HIGH = \"high\",\n  CRITICAL = \"critical\",\n}\n\nexport enum ErrorCategory {\n  NETWORK = \"network\",\n  CRYPTO = \"crypto\",\n  STORAGE = \"storage\",\n  VALIDATION = \"validation\",\n  PERMISSION = \"permission\",\n  SYSTEM = \"system\",\n}\n\nexport interface ErrorContext {\n  category: ErrorCategory;\n  severity: ErrorSeverity;\n  message: string;\n  code?: string;\n  details?: Record<string, unknown>;\n  timestamp: number;\n  stackTrace?: string;\n  userId?: string;\n  sessionId?: string;\n}\n\nexport class AppError extends Error {\n  public readonly category: ErrorCategory;\n  public readonly severity: ErrorSeverity;\n  public readonly code?: string;\n  public readonly details?: Record<string, unknown>;\n  public readonly timestamp: number;\n\n  constructor(context: Omit<ErrorContext, \"timestamp\" | \"stackTrace\">) {\n    super(context.message);\n    this.category = context.category;\n    this.severity = context.severity;\n    this.code = context.code;\n    this.details = context.details;\n    this.timestamp = Date.now();\n    this.name = \"AppError\";\n\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, AppError);\n    }\n  }\n}\n\nexport class ErrorHandler {\n  private static instance: ErrorHandler;\n  private errorLog: ErrorContext[] = [];\n  private maxLogSize = 1000;\n  private errorListeners: Array<(error: ErrorContext) => void> = [];\n\n  private constructor() {}\n\n  static getInstance(): ErrorHandler {\n    if (!ErrorHandler.instance) {\n      ErrorHandler.instance = new ErrorHandler();\n    }\n    return ErrorHandler.instance;\n  }\n\n  /**\n   * Handle an error with automatic categorization and recovery\n   */\n  handle(\n    error: Error | AppError,\n    additionalContext?: Partial<ErrorContext>,\n  ): void {\n    const context = this.createErrorContext(error, additionalContext);\n\n    // Log the error\n    this.logError(context);\n\n    // Notify listeners\n    this.notifyListeners(context);\n\n    // Attempt recovery based on severity and category\n    this.attemptRecovery(context);\n\n    // Report to monitoring service in production\n    if (\n      typeof window !== \"undefined\" &&\n      (window as unknown as { SC_PRODUCTION: boolean }).SC_PRODUCTION\n    ) {\n      this.reportToMonitoring(context);\n    }\n  }\n\n  /**\n   * Create structured error context\n   */\n  private createErrorContext(\n    error: Error | AppError,\n    additional?: Partial<ErrorContext>,\n  ): ErrorContext {\n    const isAppError = error instanceof AppError;\n\n    return {\n      category: isAppError\n        ? error.category\n        : additional?.category || ErrorCategory.SYSTEM,\n      severity: isAppError\n        ? error.severity\n        : additional?.severity || ErrorSeverity.MEDIUM,\n      message: error.message,\n      code: isAppError ? error.code : additional?.code,\n      details: isAppError ? error.details : additional?.details,\n      timestamp: Date.now(),\n      stackTrace: error.stack,\n      userId: additional?.userId,\n      sessionId: additional?.sessionId,\n    };\n  }\n\n  /**\n   * Log error to internal buffer\n   */\n  private logError(context: ErrorContext): void {\n    this.errorLog.push(context);\n\n    // Keep log size manageable\n    if (this.errorLog.length > this.maxLogSize) {\n      this.errorLog = this.errorLog.slice(-this.maxLogSize);\n    }\n\n    // Console logging with severity-based formatting\n    const logMethod = this.getLogMethod(context.severity);\n    logMethod(\n      `[${context.category.toUpperCase()}] ${context.message}`,\n      context.details || \"\",\n    );\n  }\n\n  /**\n   * Get appropriate console method based on severity\n   */\n  private getLogMethod(severity: ErrorSeverity): (...args: unknown[]) => void {\n    switch (severity) {\n      case ErrorSeverity.CRITICAL:\n      case ErrorSeverity.HIGH:\n        return console.error.bind(console);\n      case ErrorSeverity.MEDIUM:\n        return console.warn.bind(console);\n      default:\n        return console.log.bind(console);\n    }\n  }\n\n  /**\n   * Attempt automatic recovery based on error type\n   */\n  private attemptRecovery(context: ErrorContext): void {\n    switch (context.category) {\n      case ErrorCategory.NETWORK:\n        this.handleNetworkError(context);\n        break;\n      case ErrorCategory.STORAGE:\n        this.handleStorageError(context);\n        break;\n      case ErrorCategory.CRYPTO:\n        this.handleCryptoError(context);\n        break;\n      default:\n        // No automatic recovery for other categories\n        break;\n    }\n  }\n\n  /**\n   * Handle network-related errors\n   */\n  private handleNetworkError(context: ErrorContext): void {\n    if (context.severity !== ErrorSeverity.CRITICAL) {\n      // Queue for retry\n      console.log(\"Queuing network operation for retry\");\n    }\n  }\n\n  /**\n   * Handle storage-related errors\n   */\n  private handleStorageError(context: ErrorContext): void {\n    if (context.code === \"QUOTA_EXCEEDED\") {\n      console.warn(\"Storage quota exceeded, attempting cleanup\");\n      // Trigger storage cleanup\n    }\n  }\n\n  /**\n   * Handle cryptographic errors\n   */\n  private handleCryptoError(context: ErrorContext): void {\n    if (context.severity === ErrorSeverity.CRITICAL) {\n      console.error(\"Critical crypto error - security compromised\");\n      // Notify user and potentially clear sensitive data\n    }\n  }\n\n  /**\n   * Report error to external monitoring service\n   */\n  private reportToMonitoring(context: ErrorContext): void {\n    ErrorTracker.captureError(new AppError(context), {\n      userId: context.userId,\n      action: \"handle-error\",\n      metadata: context.details,\n    });\n  }\n\n  /**\n   * Register error listener\n   */\n  onError(listener: (error: ErrorContext) => void): () => void {\n    this.errorListeners.push(listener);\n\n    // Return unsubscribe function\n    return () => {\n      const index = this.errorListeners.indexOf(listener);\n      if (index > -1) {\n        this.errorListeners.splice(index, 1);\n      }\n    };\n  }\n\n  /**\n   * Notify all error listeners\n   */\n  private notifyListeners(context: ErrorContext): void {\n    this.errorListeners.forEach((listener) => {\n      try {\n        listener(context);\n      } catch (err) {\n        console.error(\"Error in error listener:\", err);\n      }\n    });\n  }\n\n  /**\n   * Get recent errors\n   */\n  getRecentErrors(limit: number = 50): ErrorContext[] {\n    return this.errorLog.slice(-limit);\n  }\n\n  /**\n   * Get errors by category\n   */\n  getErrorsByCategory(category: ErrorCategory): ErrorContext[] {\n    return this.errorLog.filter((e) => e.category === category);\n  }\n\n  /**\n   * Get errors by severity\n   */\n  getErrorsBySeverity(severity: ErrorSeverity): ErrorContext[] {\n    return this.errorLog.filter((e) => e.severity === severity);\n  }\n\n  /**\n   * Clear error log\n   */\n  clearLog(): void {\n    this.errorLog = [];\n  }\n\n  /**\n   * Get error statistics\n   */\n  getStats(): {\n    total: number;\n    byCategory: Record<ErrorCategory, number>;\n    bySeverity: Record<ErrorSeverity, number>;\n  } {\n    const stats = {\n      total: this.errorLog.length,\n      byCategory: {} as Record<ErrorCategory, number>,\n      bySeverity: {} as Record<ErrorSeverity, number>,\n    };\n\n    // Initialize counters\n    Object.values(ErrorCategory).forEach((cat) => {\n      stats.byCategory[cat as ErrorCategory] = 0;\n    });\n    Object.values(ErrorSeverity).forEach((sev) => {\n      stats.bySeverity[sev as ErrorSeverity] = 0;\n    });\n\n    // Count occurrences\n    this.errorLog.forEach((error) => {\n      stats.byCategory[error.category]++;\n      stats.bySeverity[error.severity]++;\n    });\n\n    return stats;\n  }\n}\n\n// Global error handler instance\nexport const errorHandler = ErrorHandler.getInstance();\n\n// Global error handlers\nif (typeof window !== \"undefined\") {\n  window.addEventListener(\"error\", (event) => {\n    errorHandler.handle(new Error(event.message), {\n      category: ErrorCategory.SYSTEM,\n      severity: ErrorSeverity.HIGH,\n      details: {\n        filename: event.filename,\n        lineno: event.lineno,\n        colno: event.colno,\n      },\n    });\n  });\n\n  window.addEventListener(\"unhandledrejection\", (event) => {\n    errorHandler.handle(new Error(String(event.reason)), {\n      category: ErrorCategory.SYSTEM,\n      severity: ErrorSeverity.MEDIUM,\n    });\n  });\n}\n"],"version":3}