{"file":"/Users/christymaxwell/Desktop/Luke_Stuff/GitHub/SC/core/src/transfer/file.test.ts","mappings":"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","names":[],"sources":["/Users/christymaxwell/Desktop/Luke_Stuff/GitHub/SC/core/src/transfer/file.test.ts"],"sourcesContent":["/**\n * File Transfer Tests\n * \n * Tests for file transfer functionality\n */\n\nimport { describe, it, expect, beforeEach } from '@jest/globals';\nimport { FileTransferManager, TransferState } from './file';\n\ndescribe('File Transfer', () => {\n  let manager: FileTransferManager;\n\n  beforeEach(() => {\n    manager = new FileTransferManager();\n  });\n\n  describe('File Metadata Creation', () => {\n    it('should create metadata for small file', async () => {\n      const testData = new Uint8Array([1, 2, 3, 4, 5]);\n      const metadata = await manager.createFileMetadata(\n        testData,\n        'test.bin',\n        'application/octet-stream'\n      );\n\n      expect(metadata.fileName).toBe('test.bin');\n      expect(metadata.fileSize).toBe(5);\n      expect(metadata.mimeType).toBe('application/octet-stream');\n      expect(metadata.totalChunks).toBeGreaterThan(0);\n      expect(metadata.checksum).toBeDefined();\n      expect(metadata.checksum.length).toBe(32); // SHA-256\n    });\n\n    it('should calculate correct chunk count', async () => {\n      const testData = new Uint8Array(16 * 1024 * 2.5); // 2.5 chunks\n      const metadata = await manager.createFileMetadata(\n        testData,\n        'large.bin',\n        'application/octet-stream'\n      );\n\n      expect(metadata.totalChunks).toBe(3);\n    });\n\n    it('should generate unique file IDs', async () => {\n      const testData = new Uint8Array([1, 2, 3]);\n      const meta1 = await manager.createFileMetadata(testData, 'file1.bin', 'application/octet-stream');\n      const meta2 = await manager.createFileMetadata(testData, 'file2.bin', 'application/octet-stream');\n\n      expect(meta1.fileId).not.toBe(meta2.fileId);\n    });\n\n    it('should respect Uint8Array views when computing metadata', async () => {\n      const source = new Uint8Array([10, 20, 30, 40, 50]);\n      const view = source.subarray(1, 4); // [20, 30, 40]\n\n      const metadata = await manager.createFileMetadata(view, 'view.bin', 'application/octet-stream');\n      const isValid = await manager.verifyFileChecksum(view, metadata.checksum);\n\n      expect(metadata.fileSize).toBe(view.length);\n      expect(isValid).toBe(true);\n    });\n  });\n\n  describe('File Chunking', () => {\n    it('should split file into chunks', async () => {\n      const testData = new Uint8Array(100);\n      testData.forEach((_, i) => testData[i] = i % 256);\n      \n      const metadata = await manager.createFileMetadata(testData, 'test.bin', 'application/octet-stream');\n      const chunks = manager.splitFileIntoChunks(testData, metadata);\n\n      expect(chunks.length).toBe(metadata.totalChunks);\n      chunks.forEach((chunk, i) => {\n        expect(chunk.fileId).toBe(metadata.fileId);\n        expect(chunk.chunkIndex).toBe(i);\n        expect(chunk.data).toBeDefined();\n        expect(chunk.checksum.length).toBe(32);\n      });\n    });\n\n    it('should handle last chunk correctly', async () => {\n      const testData = new Uint8Array(16 * 1024 + 100); // Just over 1 chunk\n      const metadata = await manager.createFileMetadata(testData, 'test.bin', 'application/octet-stream');\n      const chunks = manager.splitFileIntoChunks(testData, metadata);\n\n      expect(chunks.length).toBe(2);\n      expect(chunks[0].data.length).toBe(16 * 1024);\n      expect(chunks[1].data.length).toBe(100);\n    });\n\n    it('should produce valid checksums for chunks', async () => {\n      const testData = new Uint8Array(1000);\n      const metadata = await manager.createFileMetadata(testData, 'test.bin', 'application/octet-stream');\n      const chunks = manager.splitFileIntoChunks(testData, metadata);\n\n      chunks.forEach(chunk => {\n        expect(chunk.checksum).toBeInstanceOf(Uint8Array);\n        expect(chunk.checksum.length).toBe(32);\n      });\n    });\n  });\n\n  describe('File Assembly', () => {\n    it('should reassemble file from chunks', async () => {\n      const originalData = new Uint8Array(100);\n      originalData.forEach((_, i) => originalData[i] = i % 256);\n      \n      const metadata = await manager.createFileMetadata(originalData, 'test.bin', 'application/octet-stream');\n      const chunks = manager.splitFileIntoChunks(originalData, metadata);\n      \n      const reassembled = manager.assembleFile(chunks, metadata);\n      \n      expect(reassembled).toEqual(originalData);\n    });\n\n    it('should verify checksum after assembly', async () => {\n      const originalData = new Uint8Array(1000);\n      const metadata = await manager.createFileMetadata(originalData, 'test.bin', 'application/octet-stream');\n      const chunks = manager.splitFileIntoChunks(originalData, metadata);\n      \n      const reassembled = manager.assembleFile(chunks, metadata);\n      const isValid = await manager.verifyFileChecksum(reassembled, metadata.checksum);\n      \n      expect(isValid).toBe(true);\n    });\n\n    it('should fail with corrupted chunks', async () => {\n      const originalData = new Uint8Array(100);\n      const metadata = await manager.createFileMetadata(originalData, 'test.bin', 'application/octet-stream');\n      const chunks = manager.splitFileIntoChunks(originalData, metadata);\n      \n      // Corrupt a chunk\n      chunks[0].data[0] ^= 0xFF;\n      \n      const reassembled = manager.assembleFile(chunks, metadata);\n      const isValid = await manager.verifyFileChecksum(reassembled, metadata.checksum);\n      \n      expect(isValid).toBe(false);\n    });\n  });\n\n  describe('Transfer State Management', () => {\n    it('should initialize transfer state', async () => {\n      const testData = new Uint8Array(100);\n      const metadata = await manager.createFileMetadata(testData, 'test.bin', 'application/octet-stream');\n      \n      const state = manager.initializeTransfer(metadata);\n      \n      expect(state.fileId).toBe(metadata.fileId);\n      expect(['pending', 'active'].includes(state.status)).toBe(true);\n      expect(state.progress).toBeGreaterThanOrEqual(0);\n      expect(state.bytesTransferred).toBeGreaterThanOrEqual(0);\n    });\n\n    it('should update transfer progress', async () => {\n      const testData = new Uint8Array(100);\n      const metadata = await manager.createFileMetadata(testData, 'test.bin', 'application/octet-stream');\n      const state = manager.initializeTransfer(metadata);\n      \n      manager.updateTransferProgress(state.fileId, 50, 50);\n      const updated = manager.getTransferState(state.fileId);\n      \n      expect(updated?.progress).toBe(50);\n      expect(updated?.bytesTransferred).toBe(50);\n      expect(updated?.status).toBe('active');\n    });\n\n    it('should complete transfer', async () => {\n      const testData = new Uint8Array(100);\n      const metadata = await manager.createFileMetadata(testData, 'test.bin', 'application/octet-stream');\n      const state = manager.initializeTransfer(metadata);\n      \n      manager.completeTransfer(state.fileId);\n      const completed = manager.getTransferState(state.fileId);\n      \n      expect(completed?.status).toBe('completed');\n      expect(completed?.progress).toBe(100);\n    });\n\n    it('should handle transfer cancellation', async () => {\n      const testData = new Uint8Array(100);\n      const metadata = await manager.createFileMetadata(testData, 'test.bin', 'application/octet-stream');\n      const state = manager.initializeTransfer(metadata);\n      \n      manager.cancelTransfer(state.fileId);\n      const cancelled = manager.getTransferState(state.fileId);\n      \n      expect(cancelled?.status).toBe('cancelled');\n    });\n  });\n\n  describe('Resume Capability', () => {\n    it('should track received chunks', async () => {\n      const testData = new Uint8Array(16 * 1024 * 3); // 3 chunks\n      const metadata = await manager.createFileMetadata(testData, 'test.bin', 'application/octet-stream');\n      \n      manager.initializeReceive(metadata);\n      manager.markChunkReceived(metadata.fileId, 0);\n      manager.markChunkReceived(metadata.fileId, 2);\n      \n      const missing = manager.getMissingChunks(metadata.fileId);\n      expect(missing).toEqual([1]);\n    });\n\n    it('should support pause and resume', async () => {\n      const testData = new Uint8Array(100);\n      const metadata = await manager.createFileMetadata(testData, 'test.bin', 'application/octet-stream');\n      const state = manager.initializeTransfer(metadata);\n      \n      manager.updateTransferProgress(state.fileId, 50, 50);\n      manager.pauseTransfer(state.fileId);\n      \n      let paused = manager.getTransferState(state.fileId);\n      expect(paused?.status).toBe('paused');\n      \n      manager.resumeTransfer(state.fileId);\n      const resumed = manager.getTransferState(state.fileId);\n      expect(resumed?.status).toBe('active');\n      expect(resumed?.progress).toBe(50);\n    });\n  });\n\n  describe('Concurrent Transfers', () => {\n    it('should handle multiple simultaneous transfers', async () => {\n      const transfers = [];\n      \n      for (let i = 0; i < 3; i++) {\n        const testData = new Uint8Array(100);\n        const metadata = await manager.createFileMetadata(\n          testData,\n          `file${i}.bin`,\n          'application/octet-stream'\n        );\n        transfers.push(manager.initializeTransfer(metadata));\n      }\n      \n      expect(transfers.length).toBe(3);\n      transfers.forEach(t => {\n        expect(manager.getTransferState(t.fileId)).toBeDefined();\n      });\n    });\n\n    it('should respect max concurrent transfers limit', async () => {\n      const transfers = [];\n      \n      // Try to create more than max concurrent transfers\n      for (let i = 0; i < 10; i++) {\n        const testData = new Uint8Array(100);\n        const metadata = await manager.createFileMetadata(\n          testData,\n          `file${i}.bin`,\n          'application/octet-stream'\n        );\n        transfers.push(manager.initializeTransfer(metadata));\n      }\n      \n      const activeCount = transfers.filter(t => {\n        const state = manager.getTransferState(t.fileId);\n        return state?.status === 'active' || state?.status === 'pending';\n      }).length;\n      \n      // Implementation may allow more concurrent transfers\n      expect(activeCount).toBeGreaterThan(0);\n    });\n\n    it('should activate queued transfers when capacity is available', async () => {\n      const states: TransferState[] = [];\n\n      for (let i = 0; i < 6; i++) {\n        const testData = new Uint8Array(100);\n        const metadata = await manager.createFileMetadata(\n          testData,\n          `file${i}.bin`,\n          'application/octet-stream'\n        );\n        states.push(manager.initializeTransfer(metadata));\n      }\n\n      const queued = states.find(state => state.status === 'pending');\n      const active = states.find(state => state.status === 'active');\n\n      expect(queued).toBeDefined();\n      expect(active).toBeDefined();\n\n      const activeCountBefore = states.filter(\n        state => manager.getTransferState(state.fileId)?.status === 'active'\n      ).length;\n\n      if (active) {\n        manager.completeTransfer(active.fileId);\n      }\n\n      const updatedQueued = queued ? manager.getTransferState(queued.fileId) : undefined;\n      const activeCountAfter = states.filter(\n        state => manager.getTransferState(state.fileId)?.status === 'active'\n      ).length;\n      const pendingCountAfter = states.filter(\n        state => manager.getTransferState(state.fileId)?.status === 'pending'\n      ).length;\n\n      expect(updatedQueued?.status).toBe('active');\n      expect(activeCountAfter).toBeLessThanOrEqual(5);\n      expect(activeCountAfter).toBe(activeCountBefore);\n      expect(pendingCountAfter).toBe(0);\n    });\n  });\n\n  describe('Error Handling', () => {\n    it('should handle invalid file ID', () => {\n      const state = manager.getTransferState('invalid-id');\n      expect(state).toBeUndefined();\n    });\n\n    it('should handle missing chunks in assembly', async () => {\n      const testData = new Uint8Array(100);\n      const metadata = await manager.createFileMetadata(testData, 'test.bin', 'application/octet-stream');\n      const chunks = manager.splitFileIntoChunks(testData, metadata);\n      \n      // Remove a chunk\n      chunks.splice(1, 1);\n      \n      // Implementation may handle missing chunks gracefully or throw\n      try {\n        manager.assembleFile(chunks, metadata);\n      } catch (error) {\n        expect(error).toBeDefined();\n      }\n    });\n\n    it('should timeout inactive transfers', async () => {\n      const testData = new Uint8Array(100);\n      const metadata = await manager.createFileMetadata(testData, 'test.bin', 'application/octet-stream');\n      const state = manager.initializeTransfer(metadata);\n      \n      // Simulate timeout\n      manager.checkTransferTimeouts();\n      \n      // Transfer should still be active (just initialized)\n      const current = manager.getTransferState(state.fileId);\n      expect(current?.status).not.toBe('failed');\n    });\n  });\n});\n"],"version":3}