{"file":"/Users/christymaxwell/Desktop/Luke_Stuff/GitHub/SC/core/src/crypto/performance.test.ts","mappings":"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","names":[],"sources":["/Users/christymaxwell/Desktop/Luke_Stuff/GitHub/SC/core/src/crypto/performance.test.ts"],"sourcesContent":["/**\n * Performance Regression Tests\n * \n * Ensures cryptographic operations maintain acceptable performance\n */\n\nimport { describe, it, expect } from '@jest/globals';\nimport {\n  generateIdentity,\n  signMessage,\n  verifySignature,\n  encryptMessage,\n  decryptMessage,\n  performKeyExchange,\n  generateSessionKey\n} from './primitives';\n\n// Performance thresholds (in milliseconds)\nconst THRESHOLDS = {\n  keyGeneration: 50,\n  signing: 20,\n  verification: 20,\n  encryption: 40,\n  decryption: 40,\n  keyExchange: 40,\n  bulkEncryption: 2000, // for 1MB\n  bulkDecryption: 2000,\n};\n\n/**\n * Measures execution time of a function\n */\nfunction measure(fn: () => void): number {\n  const start = performance.now();\n  fn();\n  const end = performance.now();\n  return end - start;\n}\n\n/**\n * Runs a function multiple times and returns average time\n */\nfunction measureAverage(fn: () => void, iterations: number): number {\n  const times: number[] = [];\n\n  // Warmup\n  for (let i = 0; i < 10; i++) {\n    fn();\n  }\n\n  // Measure\n  for (let i = 0; i < iterations; i++) {\n    times.push(measure(fn));\n  }\n\n  return times.reduce((a, b) => a + b, 0) / times.length;\n}\n\ndescribe('Crypto Performance Tests', () => {\n  describe('Key Generation Performance', () => {\n    it('should generate keypair within threshold', () => {\n      const avgTime = measureAverage(() => {\n        generateIdentity();\n      }, 100);\n\n      console.log(`Key generation average: ${avgTime.toFixed(2)}ms`);\n      expect(avgTime).toBeLessThan(THRESHOLDS.keyGeneration);\n    });\n\n    it('should generate 100 keypairs in reasonable time', () => {\n      const totalTime = measure(() => {\n        for (let i = 0; i < 100; i++) {\n          generateIdentity();\n        }\n      });\n\n      console.log(`100 keypairs: ${totalTime.toFixed(2)}ms`);\n      expect(totalTime).toBeLessThan(THRESHOLDS.keyGeneration * 100);\n    });\n  });\n\n  describe('Signature Performance', () => {\n    const keypair = generateIdentity();\n    const message = new Uint8Array(1024); // 1KB message\n\n    it('should sign message within threshold', () => {\n      const avgTime = measureAverage(() => {\n        signMessage(message, keypair.privateKey);\n      }, 100);\n\n      console.log(`Signing average: ${avgTime.toFixed(2)}ms`);\n      expect(avgTime).toBeLessThan(THRESHOLDS.signing);\n    });\n\n    it('should verify signature within threshold', () => {\n      const signature = signMessage(message, keypair.privateKey);\n\n      const avgTime = measureAverage(() => {\n        verifySignature(message, signature, keypair.publicKey);\n      }, 100);\n\n      console.log(`Verification average: ${avgTime.toFixed(2)}ms`);\n      expect(avgTime).toBeLessThan(THRESHOLDS.verification);\n    });\n\n    it('should handle 1000 signatures/sec', () => {\n      const totalTime = measure(() => {\n        for (let i = 0; i < 1000; i++) {\n          signMessage(message, keypair.privateKey);\n        }\n      });\n\n      console.log(`1000 signatures: ${totalTime.toFixed(2)}ms`);\n      expect(totalTime).toBeLessThan(1000 * THRESHOLDS.signing);\n    });\n  });\n\n  describe('Encryption Performance', () => {\n    const keypair = generateIdentity();\n    const sessionKey = generateSessionKey();\n    const message = new Uint8Array(1024); // 1KB message\n\n    it('should encrypt message within threshold', () => {\n      const avgTime = measureAverage(() => {\n        encryptMessage(message, sessionKey.key, sessionKey.nonce);\n      }, 100);\n\n      console.log(`Encryption average: ${avgTime.toFixed(2)}ms`);\n      expect(avgTime).toBeLessThan(THRESHOLDS.encryption);\n    });\n\n    it('should decrypt message within threshold', () => {\n      const encrypted = encryptMessage(message, sessionKey.key, sessionKey.nonce);\n\n      const avgTime = measureAverage(() => {\n        decryptMessage(encrypted, sessionKey.key, sessionKey.nonce);\n      }, 100);\n\n      console.log(`Decryption average: ${avgTime.toFixed(2)}ms`);\n      expect(avgTime).toBeLessThan(THRESHOLDS.decryption);\n    });\n  });\n\n  describe('Bulk Encryption Performance', () => {\n    const keypair = generateIdentity();\n    const sessionKey = generateSessionKey();\n    const largeMessage = new Uint8Array(1024 * 1024); // 1MB\n\n    it('should encrypt 1MB within threshold', () => {\n      const time = measure(() => {\n        encryptMessage(largeMessage, sessionKey.key, sessionKey.nonce);\n      });\n\n      console.log(`Encrypt 1MB: ${time.toFixed(2)}ms`);\n      expect(time).toBeLessThan(THRESHOLDS.bulkEncryption);\n    });\n\n    it('should decrypt 1MB within threshold', () => {\n      const encrypted = encryptMessage(largeMessage, sessionKey.key, sessionKey.nonce);\n\n      const time = measure(() => {\n        decryptMessage(encrypted, sessionKey.key, sessionKey.nonce);\n      });\n\n      console.log(`Decrypt 1MB: ${time.toFixed(2)}ms`);\n      expect(time).toBeLessThan(THRESHOLDS.bulkDecryption);\n    });\n\n    it('should maintain performance for multiple large encryptions', () => {\n      const times: number[] = [];\n\n      for (let i = 0; i < 10; i++) {\n        // Generate new session key for each iteration\n        const sk = generateSessionKey();\n        const time = measure(() => {\n          encryptMessage(largeMessage, sk.key, sk.nonce);\n        });\n        times.push(time);\n      }\n\n      const avgTime = times.reduce((a, b) => a + b, 0) / times.length;\n      const maxTime = Math.max(...times);\n\n      console.log(`Avg bulk encrypt: ${avgTime.toFixed(2)}ms, Max: ${maxTime.toFixed(2)}ms`);\n      expect(maxTime).toBeLessThan(THRESHOLDS.bulkEncryption * 1.5);\n    });\n  });\n\n  describe('Key Exchange Performance', () => {\n    const kp1 = generateIdentity();\n    const kp2 = generateIdentity();\n\n    it('should derive shared secret within threshold', () => {\n      const avgTime = measureAverage(() => {\n        performKeyExchange(kp1.privateKey, kp2.publicKey);\n      }, 100);\n\n      console.log(`Key exchange average: ${avgTime.toFixed(2)}ms`);\n      expect(avgTime).toBeLessThan(THRESHOLDS.keyExchange);\n    });\n\n    it('should handle 1000 key exchanges/sec', () => {\n      const totalTime = measure(() => {\n        for (let i = 0; i < 1000; i++) {\n          performKeyExchange(kp1.privateKey, kp2.publicKey);\n        }\n      });\n\n      console.log(`1000 key exchanges: ${totalTime.toFixed(2)}ms`);\n      expect(totalTime).toBeLessThan(1000 * THRESHOLDS.keyExchange);\n    });\n  });\n\n  describe('Real-World Scenarios', () => {\n    it('should handle typical messaging workload', () => {\n      const aliceKp = generateIdentity();\n      const bobKp = generateIdentity();\n      const messages = Array(100).fill(null).map((_, i) =>\n        new Uint8Array(512).fill(i % 256)\n      );\n\n      const totalTime = measure(() => {\n        const aliceShared = performKeyExchange(aliceKp.privateKey, bobKp.publicKey);\n\n        messages.forEach(msg => {\n          const signature = signMessage(msg, aliceKp.privateKey);\n          const sk = generateSessionKey();\n          const encrypted = encryptMessage(msg, sk.key, sk.nonce);\n\n          verifySignature(msg, signature, aliceKp.publicKey);\n          decryptMessage(encrypted, sk.key, sk.nonce);\n        });\n      });\n\n      console.log(`100 message workflow: ${totalTime.toFixed(2)}ms`);\n      expect(totalTime).toBeLessThan(5000); // 5 seconds for 100 messages\n    });\n\n    it('should handle peer handshake efficiently', () => {\n      const totalTime = measure(() => {\n        // Simulate 10 peer handshakes\n        for (let i = 0; i < 10; i++) {\n          const peer1 = generateIdentity();\n          const peer2 = generateIdentity();\n\n          // Exchange keys\n          const shared1 = performKeyExchange(peer1.privateKey, peer2.publicKey);\n          const shared2 = performKeyExchange(peer2.privateKey, peer1.publicKey);\n\n          // Challenge-response\n          const challenge = new Uint8Array(32);\n          const sig1 = signMessage(challenge, peer1.privateKey);\n          const sig2 = signMessage(challenge, peer2.privateKey);\n\n          verifySignature(challenge, sig1, peer1.publicKey);\n          verifySignature(challenge, sig2, peer2.publicKey);\n        }\n      });\n\n      console.log(`10 peer handshakes: ${totalTime.toFixed(2)}ms`);\n      expect(totalTime).toBeLessThan(1000);\n    });\n  });\n\n  describe('Memory Performance', () => {\n    it('should not leak memory during repeated operations', () => {\n      if (global.gc) {\n        global.gc();\n        const initialMemory = process.memoryUsage().heapUsed;\n\n        // Perform many operations\n        for (let i = 0; i < 1000; i++) {\n          const kp = generateIdentity();\n          const msg = new Uint8Array(1024);\n          const sig = signMessage(msg, kp.privateKey);\n          verifySignature(msg, sig, kp.publicKey);\n        }\n\n        global.gc();\n        const finalMemory = process.memoryUsage().heapUsed;\n        const memoryIncrease = (finalMemory - initialMemory) / 1024 / 1024;\n\n        console.log(`Memory increase: ${memoryIncrease.toFixed(2)}MB`);\n        expect(memoryIncrease).toBeLessThan(50); // Less than 50MB increase\n      } else {\n        console.log('Run with --expose-gc to test memory');\n      }\n    });\n  });\n});\n"],"version":3}