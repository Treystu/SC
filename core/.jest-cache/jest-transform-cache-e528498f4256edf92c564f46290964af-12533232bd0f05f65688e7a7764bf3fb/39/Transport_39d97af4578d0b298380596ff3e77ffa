4c654b7641f54665658d1fb8018b5e65
"use strict";
/**
 * Transport Abstraction Layer
 *
 * Defines a platform-agnostic transport interface that all mesh/routing logic
 * depends on. Concrete implementations (WebRTC, BLE, Wi-Fi Direct, etc.) are
 * provided by platform-specific code.
 *
 * This abstraction ensures protocol and routing logic remain decoupled from
 * platform-specific APIs (browser WebRTC, Android BLE, iOS CoreBluetooth, etc.).
 */
Object.defineProperty(exports, "__esModule", { value: true });
exports.transportRegistry = exports.DefaultTransportRegistry = void 0;
/**
 * Default transport registry implementation.
 */
class DefaultTransportRegistry {
    constructor() {
        this.factories = new Map();
    }
    register(type, factory) {
        this.factories.set(type, factory);
    }
    get(type) {
        return this.factories.get(type);
    }
    getTypes() {
        return Array.from(this.factories.keys());
    }
}
exports.DefaultTransportRegistry = DefaultTransportRegistry;
/**
 * Global transport registry instance.
 */
exports.transportRegistry = new DefaultTransportRegistry();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL2NocmlzdHltYXh3ZWxsL0Rlc2t0b3AvTHVrZV9TdHVmZi9HaXRIdWIvU0MvY29yZS9zcmMvdHJhbnNwb3J0L1RyYW5zcG9ydC50cyIsIm1hcHBpbmdzIjoiO0FBQUE7Ozs7Ozs7OztHQVNHOzs7QUE0Ukg7O0dBRUc7QUFDSCxNQUFhLHdCQUF3QjtJQUFyQztRQUNVLGNBQVMsR0FBa0MsSUFBSSxHQUFHLEVBQUUsQ0FBQztJQWEvRCxDQUFDO0lBWEMsUUFBUSxDQUFDLElBQVksRUFBRSxPQUF5QjtRQUM5QyxJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFDcEMsQ0FBQztJQUVELEdBQUcsQ0FBQyxJQUFZO1FBQ2QsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUNsQyxDQUFDO0lBRUQsUUFBUTtRQUNOLE9BQU8sS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUM7SUFDM0MsQ0FBQztDQUNGO0FBZEQsNERBY0M7QUFFRDs7R0FFRztBQUNVLFFBQUEsaUJBQWlCLEdBQUcsSUFBSSx3QkFBd0IsRUFBRSxDQUFDIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIi9Vc2Vycy9jaHJpc3R5bWF4d2VsbC9EZXNrdG9wL0x1a2VfU3R1ZmYvR2l0SHViL1NDL2NvcmUvc3JjL3RyYW5zcG9ydC9UcmFuc3BvcnQudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBUcmFuc3BvcnQgQWJzdHJhY3Rpb24gTGF5ZXJcbiAqXG4gKiBEZWZpbmVzIGEgcGxhdGZvcm0tYWdub3N0aWMgdHJhbnNwb3J0IGludGVyZmFjZSB0aGF0IGFsbCBtZXNoL3JvdXRpbmcgbG9naWNcbiAqIGRlcGVuZHMgb24uIENvbmNyZXRlIGltcGxlbWVudGF0aW9ucyAoV2ViUlRDLCBCTEUsIFdpLUZpIERpcmVjdCwgZXRjLikgYXJlXG4gKiBwcm92aWRlZCBieSBwbGF0Zm9ybS1zcGVjaWZpYyBjb2RlLlxuICpcbiAqIFRoaXMgYWJzdHJhY3Rpb24gZW5zdXJlcyBwcm90b2NvbCBhbmQgcm91dGluZyBsb2dpYyByZW1haW4gZGVjb3VwbGVkIGZyb21cbiAqIHBsYXRmb3JtLXNwZWNpZmljIEFQSXMgKGJyb3dzZXIgV2ViUlRDLCBBbmRyb2lkIEJMRSwgaU9TIENvcmVCbHVldG9vdGgsIGV0Yy4pLlxuICovXG5cbi8qKlxuICogVW5pcXVlIGlkZW50aWZpZXIgZm9yIGEgcGVlciBpbiB0aGUgdHJhbnNwb3J0IGxheWVyLlxuICogVHlwaWNhbGx5IGEgaGV4LWVuY29kZWQgcHVibGljIGtleSBvciBhIFVVSUQuXG4gKi9cbmV4cG9ydCB0eXBlIFRyYW5zcG9ydFBlZXJJZCA9IHN0cmluZztcblxuLyoqXG4gKiBBIG1lc3NhZ2UgdHJhbnNwb3J0ZWQgYmV0d2VlbiBwZWVycy5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBUcmFuc3BvcnRNZXNzYWdlIHtcbiAgLyoqIFRoZSBzZW5kZXIncyBwZWVyIElEICovXG4gIGZyb206IFRyYW5zcG9ydFBlZXJJZDtcbiAgLyoqIFRoZSByZWNpcGllbnQncyBwZWVyIElEIChvcHRpb25hbCBmb3IgYnJvYWRjYXN0cykgKi9cbiAgdG8/OiBUcmFuc3BvcnRQZWVySWQ7XG4gIC8qKiBCaW5hcnkgbWVzc2FnZSBwYXlsb2FkICovXG4gIHBheWxvYWQ6IFVpbnQ4QXJyYXk7XG4gIC8qKiBPcHRpb25hbCB0aW1lc3RhbXAgZm9yIHRoZSBtZXNzYWdlICovXG4gIHRpbWVzdGFtcD86IG51bWJlcjtcbn1cblxuLyoqXG4gKiBDb25uZWN0aW9uIHN0YXRlIGZvciBhIHRyYW5zcG9ydCBwZWVyLlxuICovXG5leHBvcnQgdHlwZSBUcmFuc3BvcnRDb25uZWN0aW9uU3RhdGUgPVxuICB8IFwibmV3XCJcbiAgfCBcImNvbm5lY3RpbmdcIlxuICB8IFwiY29ubmVjdGVkXCJcbiAgfCBcImRpc2Nvbm5lY3RlZFwiXG4gIHwgXCJmYWlsZWRcIlxuICB8IFwiY2xvc2VkXCI7XG5cbi8qKlxuICogUGVlciBpbmZvcm1hdGlvbiBwcm92aWRlZCBieSB0aGUgdHJhbnNwb3J0IGxheWVyLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFRyYW5zcG9ydFBlZXJJbmZvIHtcbiAgLyoqIFRoZSBwZWVyJ3MgdW5pcXVlIGlkZW50aWZpZXIgKi9cbiAgcGVlcklkOiBUcmFuc3BvcnRQZWVySWQ7XG4gIC8qKiBDdXJyZW50IGNvbm5lY3Rpb24gc3RhdGUgKi9cbiAgc3RhdGU6IFRyYW5zcG9ydENvbm5lY3Rpb25TdGF0ZTtcbiAgLyoqIFRyYW5zcG9ydCB0eXBlICh3ZWJydGMsIGJsdWV0b290aCwgbG9jYWwsIGV0Yy4pICovXG4gIHRyYW5zcG9ydFR5cGU6IHN0cmluZztcbiAgLyoqIENvbm5lY3Rpb24gcXVhbGl0eSBtZXRyaWMgKDAtMTAwKSAqL1xuICBjb25uZWN0aW9uUXVhbGl0eT86IG51bWJlcjtcbiAgLyoqIEJ5dGVzIHNlbnQgdG8gdGhpcyBwZWVyICovXG4gIGJ5dGVzU2VudD86IG51bWJlcjtcbiAgLyoqIEJ5dGVzIHJlY2VpdmVkIGZyb20gdGhpcyBwZWVyICovXG4gIGJ5dGVzUmVjZWl2ZWQ/OiBudW1iZXI7XG4gIC8qKiBMYXN0IHNlZW4gdGltZXN0YW1wICovXG4gIGxhc3RTZWVuPzogbnVtYmVyO1xufVxuXG4vKipcbiAqIEV2ZW50IGhhbmRsZXJzIGZvciB0cmFuc3BvcnQgZXZlbnRzLlxuICogSW1wbGVtZW50YXRpb25zIGNhbGwgdGhlc2UgY2FsbGJhY2tzIHdoZW4gZXZlbnRzIG9jY3VyLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFRyYW5zcG9ydEV2ZW50cyB7XG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiBhIG1lc3NhZ2UgaXMgcmVjZWl2ZWQgZnJvbSBhIHBlZXIuXG4gICAqIEBwYXJhbSBtc2cgVGhlIHJlY2VpdmVkIG1lc3NhZ2VcbiAgICovXG4gIG9uTWVzc2FnZShtc2c6IFRyYW5zcG9ydE1lc3NhZ2UpOiB2b2lkO1xuXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiBhIHBlZXIgc3VjY2Vzc2Z1bGx5IGNvbm5lY3RzLlxuICAgKiBAcGFyYW0gcGVlcklkIFRoZSBjb25uZWN0ZWQgcGVlcidzIElEXG4gICAqIEBwYXJhbSBpbmZvIE9wdGlvbmFsIHBlZXIgaW5mb3JtYXRpb25cbiAgICovXG4gIG9uUGVlckNvbm5lY3RlZD8ocGVlcklkOiBUcmFuc3BvcnRQZWVySWQsIGluZm8/OiBUcmFuc3BvcnRQZWVySW5mbyk6IHZvaWQ7XG5cbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIGEgcGVlciBkaXNjb25uZWN0cy5cbiAgICogQHBhcmFtIHBlZXJJZCBUaGUgZGlzY29ubmVjdGVkIHBlZXIncyBJRFxuICAgKiBAcGFyYW0gcmVhc29uIE9wdGlvbmFsIHJlYXNvbiBmb3IgZGlzY29ubmVjdGlvblxuICAgKi9cbiAgb25QZWVyRGlzY29ubmVjdGVkPyhwZWVySWQ6IFRyYW5zcG9ydFBlZXJJZCwgcmVhc29uPzogc3RyaW5nKTogdm9pZDtcblxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gY29ubmVjdGlvbiBzdGF0ZSBjaGFuZ2VzIGZvciBhIHBlZXIuXG4gICAqIEBwYXJhbSBwZWVySWQgVGhlIHBlZXIncyBJRFxuICAgKiBAcGFyYW0gc3RhdGUgVGhlIG5ldyBjb25uZWN0aW9uIHN0YXRlXG4gICAqL1xuICBvblN0YXRlQ2hhbmdlPyhcbiAgICBwZWVySWQ6IFRyYW5zcG9ydFBlZXJJZCxcbiAgICBzdGF0ZTogVHJhbnNwb3J0Q29ubmVjdGlvblN0YXRlLFxuICApOiB2b2lkO1xuXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiBhbiBlcnJvciBvY2N1cnMuXG4gICAqIEBwYXJhbSBlcnJvciBUaGUgZXJyb3IgdGhhdCBvY2N1cnJlZFxuICAgKiBAcGFyYW0gcGVlcklkIE9wdGlvbmFsIHBlZXIgSUQgaWYgZXJyb3IgaXMgcGVlci1zcGVjaWZpY1xuICAgKi9cbiAgb25FcnJvcj8oZXJyb3I6IEVycm9yLCBwZWVySWQ/OiBUcmFuc3BvcnRQZWVySWQpOiB2b2lkO1xuXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiBhIG1lZGlhIHRyYWNrIGlzIHJlY2VpdmVkIChmb3IgV2ViUlRDLXN0eWxlIHRyYW5zcG9ydHMpLlxuICAgKiBAcGFyYW0gcGVlcklkIFRoZSBwZWVyJ3MgSURcbiAgICogQHBhcmFtIHRyYWNrIFRoZSBtZWRpYSB0cmFja1xuICAgKiBAcGFyYW0gc3RyZWFtIFRoZSBtZWRpYSBzdHJlYW0gY29udGFpbmluZyB0aGUgdHJhY2tcbiAgICovXG4gIG9uVHJhY2s/KHBlZXJJZDogVHJhbnNwb3J0UGVlcklkLCB0cmFjazogdW5rbm93biwgc3RyZWFtOiB1bmtub3duKTogdm9pZDtcbn1cblxuLyoqXG4gKiBDb25maWd1cmF0aW9uIG9wdGlvbnMgZm9yIHRyYW5zcG9ydCBpbml0aWFsaXphdGlvbi5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBUcmFuc3BvcnRDb25maWcge1xuICAvKiogTWF4aW11bSBudW1iZXIgb2YgY29uY3VycmVudCBjb25uZWN0aW9ucyAqL1xuICBtYXhQZWVycz86IG51bWJlcjtcbiAgLyoqIENvbm5lY3Rpb24gdGltZW91dCBpbiBtaWxsaXNlY29uZHMgKi9cbiAgY29ubmVjdGlvblRpbWVvdXQ/OiBudW1iZXI7XG4gIC8qKiBIZWFydGJlYXQgaW50ZXJ2YWwgaW4gbWlsbGlzZWNvbmRzICovXG4gIGhlYXJ0YmVhdEludGVydmFsPzogbnVtYmVyO1xuICAvKiogQ3VzdG9tIHRyYW5zcG9ydC1zcGVjaWZpYyBvcHRpb25zICovXG4gIG9wdGlvbnM/OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcbn1cblxuLyoqXG4gKiBTaWduYWxpbmcgZGF0YSBmb3IgY29ubmVjdGlvbiBlc3RhYmxpc2htZW50LlxuICogVXNlZCBmb3IgdHJhbnNwb3J0cyB0aGF0IHJlcXVpcmUgb3V0LW9mLWJhbmQgc2lnbmFsaW5nIChsaWtlIFdlYlJUQykuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU2lnbmFsaW5nRGF0YSB7XG4gIC8qKiBUeXBlIG9mIHNpZ25hbGluZyBkYXRhICovXG4gIHR5cGU6IFwib2ZmZXJcIiB8IFwiYW5zd2VyXCIgfCBcImNhbmRpZGF0ZVwiIHwgXCJjdXN0b21cIjtcbiAgLyoqIFRoZSBzaWduYWxpbmcgcGF5bG9hZCAoU0RQLCBJQ0UgY2FuZGlkYXRlLCBldGMuKSAqL1xuICBkYXRhOiB1bmtub3duO1xuICAvKiogU2VuZGVyIHBlZXIgSUQgKi9cbiAgZnJvbT86IFRyYW5zcG9ydFBlZXJJZDtcbiAgLyoqIFJlY2lwaWVudCBwZWVyIElEICovXG4gIHRvPzogVHJhbnNwb3J0UGVlcklkO1xufVxuXG4vKipcbiAqIFRyYW5zcG9ydCBpbnRlcmZhY2UgZGVmaW5pbmcgdGhlIGNvbnRyYWN0IGFsbCB0cmFuc3BvcnQgaW1wbGVtZW50YXRpb25zIG11c3QgZm9sbG93LlxuICpcbiAqIFRoaXMgYWJzdHJhY3Rpb24gYWxsb3dzIHRoZSBtZXNoIG5ldHdvcmtpbmcgbGF5ZXIgdG8gd29yayB3aXRoIGFueSB0cmFuc3BvcnRcbiAqIG1lY2hhbmlzbSAoV2ViUlRDLCBCbHVldG9vdGggTEUsIFdpLUZpIERpcmVjdCwgVENQLCBldGMuKSB3aXRob3V0IGNvdXBsaW5nXG4gKiB0byBzcGVjaWZpYyBwbGF0Zm9ybSBBUElzLlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBjb25zdCB0cmFuc3BvcnQ6IFRyYW5zcG9ydCA9IG5ldyBXZWJSVENUcmFuc3BvcnQoY29uZmlnKTtcbiAqIGF3YWl0IHRyYW5zcG9ydC5zdGFydCh7XG4gKiAgIG9uTWVzc2FnZTogKG1zZykgPT4gY29uc29sZS5sb2coJ1JlY2VpdmVkOicsIG1zZyksXG4gKiAgIG9uUGVlckNvbm5lY3RlZDogKHBlZXJJZCkgPT4gY29uc29sZS5sb2coJ0Nvbm5lY3RlZDonLCBwZWVySWQpLFxuICogfSk7XG4gKlxuICogYXdhaXQgdHJhbnNwb3J0LmNvbm5lY3QoJ3BlZXItaWQtMTIzJyk7XG4gKiBhd2FpdCB0cmFuc3BvcnQuc2VuZCgncGVlci1pZC0xMjMnLCBuZXcgVWludDhBcnJheShbMSwgMiwgM10pKTtcbiAqIGBgYFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFRyYW5zcG9ydCB7XG4gIC8qKlxuICAgKiBUaGUgbG9jYWwgcGVlciBJRCBmb3IgdGhpcyB0cmFuc3BvcnQgaW5zdGFuY2UuXG4gICAqL1xuICByZWFkb25seSBsb2NhbFBlZXJJZDogVHJhbnNwb3J0UGVlcklkO1xuXG4gIC8qKlxuICAgKiBUaGUgbmFtZSBvZiB0aGlzIHRyYW5zcG9ydCAoZS5nLiwgJ3dlYnJ0YycsICdibGUnKS5cbiAgICovXG4gIHJlYWRvbmx5IG5hbWU6IHN0cmluZztcblxuICAvKipcbiAgICogU3RhcnQgdGhlIHRyYW5zcG9ydCBhbmQgYmVnaW4gbGlzdGVuaW5nIGZvciBjb25uZWN0aW9ucy5cbiAgICogQHBhcmFtIGV2ZW50cyBFdmVudCBoYW5kbGVycyBmb3IgdHJhbnNwb3J0IGV2ZW50c1xuICAgKiBAcmV0dXJucyBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiB0cmFuc3BvcnQgaXMgcmVhZHlcbiAgICovXG4gIHN0YXJ0KGV2ZW50czogVHJhbnNwb3J0RXZlbnRzKTogUHJvbWlzZTx2b2lkPjtcblxuICAvKipcbiAgICogU3RvcCB0aGUgdHJhbnNwb3J0IGFuZCBjbG9zZSBhbGwgY29ubmVjdGlvbnMuXG4gICAqIEByZXR1cm5zIFByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIHRyYW5zcG9ydCBpcyBmdWxseSBzdG9wcGVkXG4gICAqL1xuICBzdG9wKCk6IFByb21pc2U8dm9pZD47XG5cbiAgLyoqXG4gICAqIEluaXRpYXRlIGEgY29ubmVjdGlvbiB0byBhIHBlZXIuXG4gICAqIEBwYXJhbSBwZWVySWQgVGhlIHBlZXIgSUQgdG8gY29ubmVjdCB0b1xuICAgKiBAcGFyYW0gc2lnbmFsaW5nRGF0YSBPcHRpb25hbCBzaWduYWxpbmcgZGF0YSBmb3IgY29ubmVjdGlvbiBlc3RhYmxpc2htZW50XG4gICAqIEByZXR1cm5zIFByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIGNvbm5lY3Rpb24gaXMgZXN0YWJsaXNoZWRcbiAgICovXG4gIGNvbm5lY3QoXG4gICAgcGVlcklkOiBUcmFuc3BvcnRQZWVySWQsXG4gICAgc2lnbmFsaW5nRGF0YT86IFNpZ25hbGluZ0RhdGEsXG4gICk6IFByb21pc2U8dm9pZD47XG5cbiAgLyoqXG4gICAqIERpc2Nvbm5lY3QgZnJvbSBhIHNwZWNpZmljIHBlZXIuXG4gICAqIEBwYXJhbSBwZWVySWQgVGhlIHBlZXIgSUQgdG8gZGlzY29ubmVjdCBmcm9tXG4gICAqIEByZXR1cm5zIFByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIGRpc2Nvbm5lY3Rpb24gaXMgY29tcGxldGVcbiAgICovXG4gIGRpc2Nvbm5lY3QocGVlcklkOiBUcmFuc3BvcnRQZWVySWQpOiBQcm9taXNlPHZvaWQ+O1xuXG4gIC8qKlxuICAgKiBTZW5kIGEgbWVzc2FnZSB0byBhIHNwZWNpZmljIHBlZXIuXG4gICAqIEBwYXJhbSBwZWVySWQgVGhlIHJlY2lwaWVudCBwZWVyIElEXG4gICAqIEBwYXJhbSBwYXlsb2FkIFRoZSBiaW5hcnkgbWVzc2FnZSBwYXlsb2FkXG4gICAqIEByZXR1cm5zIFByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIG1lc3NhZ2UgaXMgc2VudCAobm90IG5lY2Vzc2FyaWx5IGRlbGl2ZXJlZClcbiAgICovXG4gIHNlbmQocGVlcklkOiBUcmFuc3BvcnRQZWVySWQsIHBheWxvYWQ6IFVpbnQ4QXJyYXkpOiBQcm9taXNlPHZvaWQ+O1xuXG4gIC8qKlxuICAgKiBCcm9hZGNhc3QgYSBtZXNzYWdlIHRvIGFsbCBjb25uZWN0ZWQgcGVlcnMuXG4gICAqIEBwYXJhbSBwYXlsb2FkIFRoZSBiaW5hcnkgbWVzc2FnZSBwYXlsb2FkXG4gICAqIEBwYXJhbSBleGNsdWRlUGVlcklkIE9wdGlvbmFsIHBlZXIgSUQgdG8gZXhjbHVkZSBmcm9tIGJyb2FkY2FzdFxuICAgKiBAcmV0dXJucyBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiBicm9hZGNhc3QgaXMgY29tcGxldGVcbiAgICovXG4gIGJyb2FkY2FzdChcbiAgICBwYXlsb2FkOiBVaW50OEFycmF5LFxuICAgIGV4Y2x1ZGVQZWVySWQ/OiBUcmFuc3BvcnRQZWVySWQsXG4gICk6IFByb21pc2U8dm9pZD47XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgbGlzdCBvZiBjdXJyZW50bHkgY29ubmVjdGVkIHBlZXIgSURzLlxuICAgKiBAcmV0dXJucyBBcnJheSBvZiBjb25uZWN0ZWQgcGVlciBJRHNcbiAgICovXG4gIGdldENvbm5lY3RlZFBlZXJzKCk6IFRyYW5zcG9ydFBlZXJJZFtdO1xuXG4gIC8qKlxuICAgKiBHZXQgaW5mb3JtYXRpb24gYWJvdXQgYSBzcGVjaWZpYyBwZWVyLlxuICAgKiBAcGFyYW0gcGVlcklkIFRoZSBwZWVyIElEIHRvIHF1ZXJ5XG4gICAqIEByZXR1cm5zIFBlZXIgaW5mb3JtYXRpb24gb3IgdW5kZWZpbmVkIGlmIG5vdCBjb25uZWN0ZWRcbiAgICovXG4gIGdldFBlZXJJbmZvKHBlZXJJZDogVHJhbnNwb3J0UGVlcklkKTogVHJhbnNwb3J0UGVlckluZm8gfCB1bmRlZmluZWQ7XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgY3VycmVudCBjb25uZWN0aW9uIHN0YXRlIGZvciBhIHBlZXIuXG4gICAqIEBwYXJhbSBwZWVySWQgVGhlIHBlZXIgSUQgdG8gcXVlcnlcbiAgICogQHJldHVybnMgQ29ubmVjdGlvbiBzdGF0ZSBvciB1bmRlZmluZWQgaWYgcGVlciBpcyB1bmtub3duXG4gICAqL1xuICBnZXRDb25uZWN0aW9uU3RhdGUoXG4gICAgcGVlcklkOiBUcmFuc3BvcnRQZWVySWQsXG4gICk6IFRyYW5zcG9ydENvbm5lY3Rpb25TdGF0ZSB8IHVuZGVmaW5lZDtcblxuICAvKipcbiAgICogSGFuZGxlIGluY29taW5nIHNpZ25hbGluZyBkYXRhIChmb3IgdHJhbnNwb3J0cyB0aGF0IHJlcXVpcmUgc2lnbmFsaW5nKS5cbiAgICogQHBhcmFtIHNpZ25hbGluZ0RhdGEgVGhlIHNpZ25hbGluZyBkYXRhIHRvIHByb2Nlc3NcbiAgICogQHJldHVybnMgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggb3B0aW9uYWwgcmVzcG9uc2Ugc2lnbmFsaW5nIGRhdGFcbiAgICovXG4gIGhhbmRsZVNpZ25hbGluZz8oXG4gICAgc2lnbmFsaW5nRGF0YTogU2lnbmFsaW5nRGF0YSxcbiAgKTogUHJvbWlzZTxTaWduYWxpbmdEYXRhIHwgdW5kZWZpbmVkPjtcblxuICAvKipcbiAgICogR2VuZXJhdGUgc2lnbmFsaW5nIGRhdGEgdG8gaW5pdGlhdGUgYSBjb25uZWN0aW9uIChmb3IgdHJhbnNwb3J0cyB0aGF0IHJlcXVpcmUgc2lnbmFsaW5nKS5cbiAgICogQHBhcmFtIHBlZXJJZCBUaGUgdGFyZ2V0IHBlZXIgSURcbiAgICogQHJldHVybnMgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggc2lnbmFsaW5nIGRhdGEgdG8gc2VuZCB0byB0aGUgcGVlclxuICAgKi9cbiAgY3JlYXRlU2lnbmFsaW5nT2ZmZXI/KHBlZXJJZDogVHJhbnNwb3J0UGVlcklkKTogUHJvbWlzZTxTaWduYWxpbmdEYXRhPjtcbn1cblxuLyoqXG4gKiBGYWN0b3J5IGZ1bmN0aW9uIHR5cGUgZm9yIGNyZWF0aW5nIHRyYW5zcG9ydCBpbnN0YW5jZXMuXG4gKiBVc2VmdWwgZm9yIGRlcGVuZGVuY3kgaW5qZWN0aW9uIGFuZCB0ZXN0aW5nLlxuICovXG5leHBvcnQgdHlwZSBUcmFuc3BvcnRGYWN0b3J5ID0gKGNvbmZpZz86IFRyYW5zcG9ydENvbmZpZykgPT4gVHJhbnNwb3J0O1xuXG4vKipcbiAqIFJlZ2lzdHJ5IGZvciB0cmFuc3BvcnQgaW1wbGVtZW50YXRpb25zLlxuICogQWxsb3dzIGR5bmFtaWMgcmVnaXN0cmF0aW9uIGFuZCBsb29rdXAgb2YgdHJhbnNwb3J0IHR5cGVzLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFRyYW5zcG9ydFJlZ2lzdHJ5IHtcbiAgLyoqXG4gICAqIFJlZ2lzdGVyIGEgdHJhbnNwb3J0IGZhY3RvcnkuXG4gICAqIEBwYXJhbSB0eXBlIFRyYW5zcG9ydCB0eXBlIGlkZW50aWZpZXIgKGUuZy4sICd3ZWJydGMnLCAnYmx1ZXRvb3RoJylcbiAgICogQHBhcmFtIGZhY3RvcnkgRmFjdG9yeSBmdW5jdGlvbiB0byBjcmVhdGUgdHJhbnNwb3J0IGluc3RhbmNlc1xuICAgKi9cbiAgcmVnaXN0ZXIodHlwZTogc3RyaW5nLCBmYWN0b3J5OiBUcmFuc3BvcnRGYWN0b3J5KTogdm9pZDtcblxuICAvKipcbiAgICogR2V0IGEgdHJhbnNwb3J0IGZhY3RvcnkgYnkgdHlwZS5cbiAgICogQHBhcmFtIHR5cGUgVHJhbnNwb3J0IHR5cGUgaWRlbnRpZmllclxuICAgKiBAcmV0dXJucyBGYWN0b3J5IGZ1bmN0aW9uIG9yIHVuZGVmaW5lZCBpZiBub3QgcmVnaXN0ZXJlZFxuICAgKi9cbiAgZ2V0KHR5cGU6IHN0cmluZyk6IFRyYW5zcG9ydEZhY3RvcnkgfCB1bmRlZmluZWQ7XG5cbiAgLyoqXG4gICAqIEdldCBhbGwgcmVnaXN0ZXJlZCB0cmFuc3BvcnQgdHlwZXMuXG4gICAqIEByZXR1cm5zIEFycmF5IG9mIHRyYW5zcG9ydCB0eXBlIGlkZW50aWZpZXJzXG4gICAqL1xuICBnZXRUeXBlcygpOiBzdHJpbmdbXTtcbn1cblxuLyoqXG4gKiBEZWZhdWx0IHRyYW5zcG9ydCByZWdpc3RyeSBpbXBsZW1lbnRhdGlvbi5cbiAqL1xuZXhwb3J0IGNsYXNzIERlZmF1bHRUcmFuc3BvcnRSZWdpc3RyeSBpbXBsZW1lbnRzIFRyYW5zcG9ydFJlZ2lzdHJ5IHtcbiAgcHJpdmF0ZSBmYWN0b3JpZXM6IE1hcDxzdHJpbmcsIFRyYW5zcG9ydEZhY3Rvcnk+ID0gbmV3IE1hcCgpO1xuXG4gIHJlZ2lzdGVyKHR5cGU6IHN0cmluZywgZmFjdG9yeTogVHJhbnNwb3J0RmFjdG9yeSk6IHZvaWQge1xuICAgIHRoaXMuZmFjdG9yaWVzLnNldCh0eXBlLCBmYWN0b3J5KTtcbiAgfVxuXG4gIGdldCh0eXBlOiBzdHJpbmcpOiBUcmFuc3BvcnRGYWN0b3J5IHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gdGhpcy5mYWN0b3JpZXMuZ2V0KHR5cGUpO1xuICB9XG5cbiAgZ2V0VHlwZXMoKTogc3RyaW5nW10ge1xuICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuZmFjdG9yaWVzLmtleXMoKSk7XG4gIH1cbn1cblxuLyoqXG4gKiBHbG9iYWwgdHJhbnNwb3J0IHJlZ2lzdHJ5IGluc3RhbmNlLlxuICovXG5leHBvcnQgY29uc3QgdHJhbnNwb3J0UmVnaXN0cnkgPSBuZXcgRGVmYXVsdFRyYW5zcG9ydFJlZ2lzdHJ5KCk7XG4iXSwidmVyc2lvbiI6M30=