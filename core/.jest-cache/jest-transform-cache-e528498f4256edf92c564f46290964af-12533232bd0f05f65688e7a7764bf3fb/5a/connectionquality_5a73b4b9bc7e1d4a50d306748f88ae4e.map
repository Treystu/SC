{"file":"/Users/christymaxwell/Desktop/Luke_Stuff/GitHub/SC/core/src/connection-quality.ts","mappings":"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","names":[],"sources":["/Users/christymaxwell/Desktop/Luke_Stuff/GitHub/SC/core/src/connection-quality.ts"],"sourcesContent":["export interface ConnectionMetrics {\n  latency: number; // ms\n  packetLoss: number; // percentage\n  bandwidth: number; // bytes/sec\n  jitter: number; // ms\n}\n\nexport type ConnectionQuality = 'excellent' | 'good' | 'fair' | 'poor' | 'offline';\n\nexport function calculateConnectionQuality(metrics: ConnectionMetrics): ConnectionQuality {\n  if (metrics.latency === Infinity) {\n    return 'offline';\n  }\n  \n  // Excellent: <50ms latency, <1% packet loss\n  if (metrics.latency < 50 && metrics.packetLoss < 1) {\n    return 'excellent';\n  }\n  \n  // Good: <100ms latency, <5% packet loss\n  if (metrics.latency < 100 && metrics.packetLoss < 5) {\n    return 'good';\n  }\n  \n  // Fair: <200ms latency, <10% packet loss\n  if (metrics.latency < 200 && metrics.packetLoss < 10) {\n    return 'fair';\n  }\n  \n  // Poor: everything else\n  return 'poor';\n}\n\nexport class ConnectionMonitor {\n  private metrics: ConnectionMetrics = {\n    latency: Infinity,\n    packetLoss: 0,\n    bandwidth: 0,\n    jitter: 0\n  };\n  \n  private latencyHistory: number[] = [];\n  private readonly HISTORY_SIZE = 10;\n  \n  updateLatency(latency: number) {\n    this.latencyHistory.push(latency);\n    if (this.latencyHistory.length > this.HISTORY_SIZE) {\n      this.latencyHistory.shift();\n    }\n    \n    // Calculate average latency\n    this.metrics.latency = this.latencyHistory.reduce((a, b) => a + b, 0) / this.latencyHistory.length;\n    \n    // Calculate jitter (variance in latency)\n    if (this.latencyHistory.length > 1) {\n      const diffs = [];\n      for (let i = 1; i < this.latencyHistory.length; i++) {\n        diffs.push(Math.abs(this.latencyHistory[i] - this.latencyHistory[i - 1]));\n      }\n      this.metrics.jitter = diffs.reduce((a, b) => a + b, 0) / diffs.length;\n    }\n  }\n  \n  updatePacketLoss(sent: number, received: number) {\n    this.metrics.packetLoss = ((sent - received) / sent) * 100;\n  }\n  \n  updateBandwidth(bytes: number, durationMs: number) {\n    this.metrics.bandwidth = (bytes / durationMs) * 1000; // bytes per second\n  }\n  \n  getMetrics(): ConnectionMetrics {\n    return { ...this.metrics };\n  }\n  \n  getQuality(): ConnectionQuality {\n    return calculateConnectionQuality(this.metrics);\n  }\n}"],"version":3}