{"file":"/Users/christymaxwell/Desktop/Luke_Stuff/GitHub/SC/core/src/compression.test.ts","mappings":"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","names":[],"sources":["/Users/christymaxwell/Desktop/Luke_Stuff/GitHub/SC/core/src/compression.test.ts"],"sourcesContent":["import { compressMessage, decompressMessage, getCompressionRatio, CompressionResult } from './compression';\n\ndescribe('Compression', () => {\n  describe('compressMessage', () => {\n    it('should return uncompressed data for small messages', () => {\n      const data = new Uint8Array([1, 2, 3, 4, 5]);\n      const result = compressMessage(data);\n\n      expect(result.compressed).toBe(false);\n      expect(result.data).toEqual(data);\n      expect(result.originalSize).toBe(5);\n      expect(result.compressedSize).toBe(5);\n    });\n\n    it('should compress large messages with repetitive data', () => {\n      const data = new Uint8Array(2048).fill(65); // 2KB of 'A's - highly compressible\n      const result = compressMessage(data);\n\n      expect(result.compressed).toBe(true);\n      expect(result.originalSize).toBe(2048);\n      expect(result.compressedSize).toBeLessThan(result.originalSize);\n      // Repetitive data compresses very well\n      expect(result.compressedSize).toBeLessThan(result.originalSize * 0.1);\n    });\n\n    it('should handle empty data', () => {\n      const data = new Uint8Array(0);\n      const result = compressMessage(data);\n\n      expect(result.compressed).toBe(false);\n      expect(result.data).toEqual(data);\n      expect(result.originalSize).toBe(0);\n      expect(result.compressedSize).toBe(0);\n    });\n\n    it('should return consistent results for same input', () => {\n      const data = new Uint8Array([10, 20, 30, 40, 50]);\n      const result1 = compressMessage(data);\n      const result2 = compressMessage(data);\n\n      expect(result1).toEqual(result2);\n    });\n  });\n\n  describe('decompressMessage', () => {\n    it('should return original data if not compressed', () => {\n      const data = new Uint8Array([1, 2, 3, 4, 5]);\n      const result = decompressMessage(data, false);\n\n      expect(result).toEqual(data);\n    });\n\n    it('should throw error for invalid compressed data', () => {\n      const data = new Uint8Array([1, 2, 3, 4, 5]);\n\n      // Trying to decompress invalid data should throw\n      expect(() => decompressMessage(data, true)).toThrow('Failed to decompress message');\n    });\n\n    it('should handle empty data', () => {\n      const data = new Uint8Array(0);\n      const result = decompressMessage(data, false);\n\n      expect(result).toEqual(data);\n    });\n  });\n\n  describe('getCompressionRatio', () => {\n    it('should return 1.0 for uncompressed data', () => {\n      const result: CompressionResult = {\n        data: new Uint8Array([1, 2, 3]),\n        compressed: false,\n        originalSize: 100,\n        compressedSize: 100,\n      };\n\n      expect(getCompressionRatio(result)).toBe(1.0);\n    });\n\n    it('should calculate ratio correctly for compressed data', () => {\n      const result: CompressionResult = {\n        data: new Uint8Array([1, 2]),\n        compressed: true,\n        originalSize: 100,\n        compressedSize: 50,\n      };\n\n      expect(getCompressionRatio(result)).toBe(0.5);\n    });\n\n    it('should handle 0% compression (ratio 1.0)', () => {\n      const result: CompressionResult = {\n        data: new Uint8Array([1, 2, 3]),\n        compressed: true,\n        originalSize: 100,\n        compressedSize: 100,\n      };\n\n      expect(getCompressionRatio(result)).toBe(1.0);\n    });\n\n    it('should handle perfect compression (small ratio)', () => {\n      const result: CompressionResult = {\n        data: new Uint8Array([1]),\n        compressed: true,\n        originalSize: 1000,\n        compressedSize: 10,\n      };\n\n      expect(getCompressionRatio(result)).toBe(0.01);\n    });\n  });\n\n  describe('Integration', () => {\n    it('should compress and decompress successfully', () => {\n      const originalData = new Uint8Array([1, 2, 3, 4, 5, 6, 7, 8, 9, 10]);\n      const compressed = compressMessage(originalData);\n      const decompressed = decompressMessage(compressed.data, compressed.compressed);\n\n      expect(decompressed).toEqual(originalData);\n    });\n\n    it('should maintain data integrity through compress/decompress cycle', () => {\n      const originalData = new Uint8Array(500);\n      for (let i = 0; i < originalData.length; i++) {\n        originalData[i] = i % 256;\n      }\n\n      const compressed = compressMessage(originalData);\n      const decompressed = decompressMessage(compressed.data, compressed.compressed);\n\n      expect(decompressed).toEqual(originalData);\n    });\n  });\n});\n"],"version":3}