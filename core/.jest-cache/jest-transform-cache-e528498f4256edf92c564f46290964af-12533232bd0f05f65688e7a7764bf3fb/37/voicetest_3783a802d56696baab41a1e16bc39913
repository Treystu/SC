b7ca744876f34ed6f76c61a6b3fcc6a5
"use strict";
/**
 * Voice Module Tests
 *
 * Tests for voice message metadata and codec configuration
 */
Object.defineProperty(exports, "__esModule", { value: true });
const globals_1 = require("@jest/globals");
const metadata_1 = require("./metadata");
const opus_1 = require("./opus");
(0, globals_1.describe)('Voice Message Metadata', () => {
    (0, globals_1.describe)('createVoiceMessageMetadata', () => {
        (0, globals_1.it)('should create valid metadata', () => {
            const metadata = (0, metadata_1.createVoiceMessageMetadata)('msg-123', 5000, // 5 seconds
            16000, // 16kHz
            24000, // 24kbps
            'opus', 'sender-456', 15000, // 15KB
            [10, 20, 30, 40, 50]);
            (0, globals_1.expect)(metadata.id).toBe('msg-123');
            (0, globals_1.expect)(metadata.duration).toBe(5000);
            (0, globals_1.expect)(metadata.sampleRate).toBe(16000);
            (0, globals_1.expect)(metadata.bitrate).toBe(24000);
            (0, globals_1.expect)(metadata.codec).toBe('opus');
            (0, globals_1.expect)(metadata.senderId).toBe('sender-456');
            (0, globals_1.expect)(metadata.size).toBe(15000);
            (0, globals_1.expect)(metadata.waveform).toEqual([10, 20, 30, 40, 50]);
            (0, globals_1.expect)(metadata.timestamp).toBeDefined();
        });
        (0, globals_1.it)('should create metadata without waveform', () => {
            const metadata = (0, metadata_1.createVoiceMessageMetadata)('msg-123', 5000, 16000, 24000, 'opus', 'sender-456', 15000);
            (0, globals_1.expect)(metadata.waveform).toBeUndefined();
        });
        (0, globals_1.it)('should support AAC codec', () => {
            const metadata = (0, metadata_1.createVoiceMessageMetadata)('msg-123', 5000, 44100, 128000, 'aac', 'sender-456', 30000);
            (0, globals_1.expect)(metadata.codec).toBe('aac');
        });
        (0, globals_1.it)('should generate timestamp automatically', () => {
            const before = Date.now();
            const metadata = (0, metadata_1.createVoiceMessageMetadata)('msg-123', 5000, 16000, 24000, 'opus', 'sender-456', 15000);
            const after = Date.now();
            (0, globals_1.expect)(metadata.timestamp).toBeGreaterThanOrEqual(before);
            (0, globals_1.expect)(metadata.timestamp).toBeLessThanOrEqual(after);
        });
        (0, globals_1.it)('should handle zero duration', () => {
            const metadata = (0, metadata_1.createVoiceMessageMetadata)('msg-123', 0, 16000, 24000, 'opus', 'sender-456', 1000);
            (0, globals_1.expect)(metadata.duration).toBe(0);
        });
        (0, globals_1.it)('should handle large durations', () => {
            const metadata = (0, metadata_1.createVoiceMessageMetadata)('msg-123', 3600000, // 1 hour
            16000, 24000, 'opus', 'sender-456', 10800000 // ~10MB for 1 hour
            );
            (0, globals_1.expect)(metadata.duration).toBe(3600000);
        });
        (0, globals_1.it)('should handle large file sizes', () => {
            const metadata = (0, metadata_1.createVoiceMessageMetadata)('msg-123', 300000, // 5 minutes
            48000, 128000, 'opus', 'sender-456', 4800000 // ~4.8MB
            );
            (0, globals_1.expect)(metadata.size).toBe(4800000);
        });
    });
    (0, globals_1.describe)('formatDuration', () => {
        (0, globals_1.it)('should format duration correctly', () => {
            (0, globals_1.expect)((0, metadata_1.formatDuration)(5000)).toBe('0:05');
            (0, globals_1.expect)((0, metadata_1.formatDuration)(30000)).toBe('0:30');
            (0, globals_1.expect)((0, metadata_1.formatDuration)(60000)).toBe('1:00');
            (0, globals_1.expect)((0, metadata_1.formatDuration)(125000)).toBe('2:05');
        });
        (0, globals_1.it)('should pad seconds with zero', () => {
            (0, globals_1.expect)((0, metadata_1.formatDuration)(1000)).toBe('0:01');
            (0, globals_1.expect)((0, metadata_1.formatDuration)(9000)).toBe('0:09');
        });
        (0, globals_1.it)('should handle zero duration', () => {
            (0, globals_1.expect)((0, metadata_1.formatDuration)(0)).toBe('0:00');
        });
        (0, globals_1.it)('should handle long durations', () => {
            (0, globals_1.expect)((0, metadata_1.formatDuration)(3600000)).toBe('60:00'); // 1 hour
            (0, globals_1.expect)((0, metadata_1.formatDuration)(7200000)).toBe('120:00'); // 2 hours
        });
        (0, globals_1.it)('should round down partial seconds', () => {
            (0, globals_1.expect)((0, metadata_1.formatDuration)(1500)).toBe('0:01');
            (0, globals_1.expect)((0, metadata_1.formatDuration)(1999)).toBe('0:01');
        });
        (0, globals_1.it)('should handle various minute values', () => {
            (0, globals_1.expect)((0, metadata_1.formatDuration)(600000)).toBe('10:00');
            (0, globals_1.expect)((0, metadata_1.formatDuration)(1800000)).toBe('30:00');
            (0, globals_1.expect)((0, metadata_1.formatDuration)(3540000)).toBe('59:00');
        });
    });
});
(0, globals_1.describe)('Opus Configuration', () => {
    (0, globals_1.describe)('defaultVoIPConfig', () => {
        (0, globals_1.it)('should have correct VoIP settings', () => {
            (0, globals_1.expect)(opus_1.defaultVoIPConfig.sampleRate).toBe(16000);
            (0, globals_1.expect)(opus_1.defaultVoIPConfig.channels).toBe(1);
            (0, globals_1.expect)(opus_1.defaultVoIPConfig.bitrate).toBe(24000);
            (0, globals_1.expect)(opus_1.defaultVoIPConfig.complexity).toBe(5);
            (0, globals_1.expect)(opus_1.defaultVoIPConfig.frameSize).toBe(20);
            (0, globals_1.expect)(opus_1.defaultVoIPConfig.application).toBe('voip');
        });
        (0, globals_1.it)('should be optimized for bandwidth', () => {
            (0, globals_1.expect)(opus_1.defaultVoIPConfig.bitrate).toBeLessThan(50000);
            (0, globals_1.expect)(opus_1.defaultVoIPConfig.channels).toBe(1); // Mono
        });
        (0, globals_1.it)('should balance quality and complexity', () => {
            (0, globals_1.expect)(opus_1.defaultVoIPConfig.complexity).toBeGreaterThanOrEqual(3);
            (0, globals_1.expect)(opus_1.defaultVoIPConfig.complexity).toBeLessThanOrEqual(7);
        });
    });
    (0, globals_1.describe)('highQualityConfig', () => {
        (0, globals_1.it)('should have correct high-quality settings', () => {
            (0, globals_1.expect)(opus_1.highQualityConfig.sampleRate).toBe(48000);
            (0, globals_1.expect)(opus_1.highQualityConfig.channels).toBe(2);
            (0, globals_1.expect)(opus_1.highQualityConfig.bitrate).toBe(128000);
            (0, globals_1.expect)(opus_1.highQualityConfig.complexity).toBe(10);
            (0, globals_1.expect)(opus_1.highQualityConfig.frameSize).toBe(20);
            (0, globals_1.expect)(opus_1.highQualityConfig.application).toBe('audio');
        });
        (0, globals_1.it)('should prioritize quality over bandwidth', () => {
            (0, globals_1.expect)(opus_1.highQualityConfig.bitrate).toBeGreaterThan(opus_1.defaultVoIPConfig.bitrate);
            (0, globals_1.expect)(opus_1.highQualityConfig.complexity).toBeGreaterThan(opus_1.defaultVoIPConfig.complexity);
        });
        (0, globals_1.it)('should use stereo', () => {
            (0, globals_1.expect)(opus_1.highQualityConfig.channels).toBe(2);
        });
    });
    (0, globals_1.describe)('lowLatencyConfig', () => {
        (0, globals_1.it)('should have correct low-latency settings', () => {
            (0, globals_1.expect)(opus_1.lowLatencyConfig.sampleRate).toBe(16000);
            (0, globals_1.expect)(opus_1.lowLatencyConfig.channels).toBe(1);
            (0, globals_1.expect)(opus_1.lowLatencyConfig.bitrate).toBe(16000);
            (0, globals_1.expect)(opus_1.lowLatencyConfig.complexity).toBe(3);
            (0, globals_1.expect)(opus_1.lowLatencyConfig.frameSize).toBe(10);
            (0, globals_1.expect)(opus_1.lowLatencyConfig.application).toBe('lowdelay');
        });
        (0, globals_1.it)('should minimize latency', () => {
            (0, globals_1.expect)(opus_1.lowLatencyConfig.frameSize).toBeLessThan(opus_1.defaultVoIPConfig.frameSize);
            (0, globals_1.expect)(opus_1.lowLatencyConfig.complexity).toBeLessThan(opus_1.defaultVoIPConfig.complexity);
        });
        (0, globals_1.it)('should use minimal resources', () => {
            (0, globals_1.expect)(opus_1.lowLatencyConfig.bitrate).toBeLessThanOrEqual(opus_1.defaultVoIPConfig.bitrate);
            (0, globals_1.expect)(opus_1.lowLatencyConfig.complexity).toBeLessThanOrEqual(5);
        });
    });
    (0, globals_1.describe)('OpusConfig validation', () => {
        (0, globals_1.it)('should support all valid sample rates', () => {
            const validRates = [
                48000, 24000, 16000, 12000, 8000
            ];
            validRates.forEach(rate => {
                const config = {
                    ...opus_1.defaultVoIPConfig,
                    sampleRate: rate
                };
                (0, globals_1.expect)(config.sampleRate).toBe(rate);
            });
        });
        (0, globals_1.it)('should support mono and stereo', () => {
            const monoConfig = {
                ...opus_1.defaultVoIPConfig,
                channels: 1
            };
            const stereoConfig = {
                ...opus_1.defaultVoIPConfig,
                channels: 2
            };
            (0, globals_1.expect)(monoConfig.channels).toBe(1);
            (0, globals_1.expect)(stereoConfig.channels).toBe(2);
        });
        (0, globals_1.it)('should support all valid frame sizes', () => {
            const validFrameSizes = [
                2.5, 5, 10, 20, 40, 60
            ];
            validFrameSizes.forEach(size => {
                const config = {
                    ...opus_1.defaultVoIPConfig,
                    frameSize: size
                };
                (0, globals_1.expect)(config.frameSize).toBe(size);
            });
        });
        (0, globals_1.it)('should support all application types', () => {
            const applications = [
                'voip', 'audio', 'lowdelay'
            ];
            applications.forEach(app => {
                const config = {
                    ...opus_1.defaultVoIPConfig,
                    application: app
                };
                (0, globals_1.expect)(config.application).toBe(app);
            });
        });
        (0, globals_1.it)('should accept valid bitrate range', () => {
            const validBitrates = [6000, 24000, 64000, 128000, 510000];
            validBitrates.forEach(bitrate => {
                const config = {
                    ...opus_1.defaultVoIPConfig,
                    bitrate
                };
                (0, globals_1.expect)(config.bitrate).toBe(bitrate);
            });
        });
        (0, globals_1.it)('should accept valid complexity range', () => {
            for (let complexity = 0; complexity <= 10; complexity++) {
                const config = {
                    ...opus_1.defaultVoIPConfig,
                    complexity
                };
                (0, globals_1.expect)(config.complexity).toBe(complexity);
            }
        });
    });
    (0, globals_1.describe)('Configuration comparisons', () => {
        (0, globals_1.it)('should have increasing quality levels', () => {
            (0, globals_1.expect)(opus_1.lowLatencyConfig.bitrate).toBeLessThan(opus_1.defaultVoIPConfig.bitrate);
            (0, globals_1.expect)(opus_1.defaultVoIPConfig.bitrate).toBeLessThan(opus_1.highQualityConfig.bitrate);
        });
        (0, globals_1.it)('should have increasing complexity levels', () => {
            (0, globals_1.expect)(opus_1.lowLatencyConfig.complexity).toBeLessThan(opus_1.defaultVoIPConfig.complexity);
            (0, globals_1.expect)(opus_1.defaultVoIPConfig.complexity).toBeLessThan(opus_1.highQualityConfig.complexity);
        });
        (0, globals_1.it)('should have varying sample rates for use cases', () => {
            (0, globals_1.expect)(opus_1.lowLatencyConfig.sampleRate).toBe(16000);
            (0, globals_1.expect)(opus_1.defaultVoIPConfig.sampleRate).toBe(16000);
            (0, globals_1.expect)(opus_1.highQualityConfig.sampleRate).toBe(48000);
        });
    });
    (0, globals_1.describe)('Performance characteristics', () => {
        (0, globals_1.it)('should calculate approximate data rates', () => {
            // Approximate bytes per second for each config
            const lowLatencyRate = opus_1.lowLatencyConfig.bitrate / 8;
            const voipRate = opus_1.defaultVoIPConfig.bitrate / 8;
            const highQualityRate = opus_1.highQualityConfig.bitrate / 8;
            (0, globals_1.expect)(lowLatencyRate).toBe(2000); // 2KB/s
            (0, globals_1.expect)(voipRate).toBe(3000); // 3KB/s
            (0, globals_1.expect)(highQualityRate).toBe(16000); // 16KB/s
        });
        (0, globals_1.it)('should estimate file sizes for duration', () => {
            const duration = 60000; // 60 seconds
            const lowLatencySize = (opus_1.lowLatencyConfig.bitrate / 8) * (duration / 1000);
            const voipSize = (opus_1.defaultVoIPConfig.bitrate / 8) * (duration / 1000);
            const highQualitySize = (opus_1.highQualityConfig.bitrate / 8) * (duration / 1000);
            (0, globals_1.expect)(lowLatencySize).toBe(120000); // 120KB for 1 minute
            (0, globals_1.expect)(voipSize).toBe(180000); // 180KB for 1 minute
            (0, globals_1.expect)(highQualitySize).toBe(960000); // 960KB for 1 minute
        });
    });
});
(0, globals_1.describe)('Integration Tests', () => {
    (0, globals_1.it)('should create metadata with opus config', () => {
        const config = opus_1.defaultVoIPConfig;
        const duration = 30000; // 30 seconds
        const estimatedSize = (config.bitrate / 8) * (duration / 1000);
        const metadata = (0, metadata_1.createVoiceMessageMetadata)('msg-123', duration, config.sampleRate, config.bitrate, 'opus', 'sender-456', estimatedSize);
        (0, globals_1.expect)(metadata.duration).toBe(duration);
        (0, globals_1.expect)(metadata.sampleRate).toBe(config.sampleRate);
        (0, globals_1.expect)(metadata.bitrate).toBe(config.bitrate);
        (0, globals_1.expect)(metadata.size).toBe(estimatedSize);
    });
    (0, globals_1.it)('should format metadata duration correctly', () => {
        const metadata = (0, metadata_1.createVoiceMessageMetadata)('msg-123', 125000, 16000, 24000, 'opus', 'sender-456', 37500);
        const formatted = (0, metadata_1.formatDuration)(metadata.duration);
        (0, globals_1.expect)(formatted).toBe('2:05');
    });
    (0, globals_1.it)('should create complete voice message workflow', () => {
        // 1. Choose config
        const config = opus_1.defaultVoIPConfig;
        // 2. Calculate estimated size for 45 seconds
        const duration = 45000;
        const estimatedSize = (config.bitrate / 8) * (duration / 1000);
        // 3. Create metadata
        const metadata = (0, metadata_1.createVoiceMessageMetadata)('voice-001', duration, config.sampleRate, config.bitrate, 'opus', 'user-123', estimatedSize, [10, 20, 30, 40, 50, 60, 70, 80, 90, 100]);
        // 4. Format for display
        const displayDuration = (0, metadata_1.formatDuration)(metadata.duration);
        // Verify complete workflow
        (0, globals_1.expect)(metadata.id).toBe('voice-001');
        (0, globals_1.expect)(metadata.codec).toBe('opus');
        (0, globals_1.expect)(displayDuration).toBe('0:45');
        (0, globals_1.expect)(metadata.waveform).toHaveLength(10);
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL2NocmlzdHltYXh3ZWxsL0Rlc2t0b3AvTHVrZV9TdHVmZi9HaXRIdWIvU0MvY29yZS9zcmMvdm9pY2Uvdm9pY2UudGVzdC50cyIsIm1hcHBpbmdzIjoiO0FBQUE7Ozs7R0FJRzs7QUFFSCwyQ0FBcUQ7QUFDckQseUNBSW9CO0FBQ3BCLGlDQUtnQjtBQUVoQixJQUFBLGtCQUFRLEVBQUMsd0JBQXdCLEVBQUUsR0FBRyxFQUFFO0lBQ3RDLElBQUEsa0JBQVEsRUFBQyw0QkFBNEIsRUFBRSxHQUFHLEVBQUU7UUFDMUMsSUFBQSxZQUFFLEVBQUMsOEJBQThCLEVBQUUsR0FBRyxFQUFFO1lBQ3RDLE1BQU0sUUFBUSxHQUFHLElBQUEscUNBQTBCLEVBQ3pDLFNBQVMsRUFDVCxJQUFJLEVBQUUsWUFBWTtZQUNsQixLQUFLLEVBQUUsUUFBUTtZQUNmLEtBQUssRUFBRSxTQUFTO1lBQ2hCLE1BQU0sRUFDTixZQUFZLEVBQ1osS0FBSyxFQUFFLE9BQU87WUFDZCxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FDckIsQ0FBQztZQUVGLElBQUEsZ0JBQU0sRUFBQyxRQUFRLENBQUMsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1lBQ3BDLElBQUEsZ0JBQU0sRUFBQyxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ3JDLElBQUEsZ0JBQU0sRUFBQyxRQUFRLENBQUMsVUFBVSxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ3hDLElBQUEsZ0JBQU0sRUFBQyxRQUFRLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ3JDLElBQUEsZ0JBQU0sRUFBQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQ3BDLElBQUEsZ0JBQU0sRUFBQyxRQUFRLENBQUMsUUFBUSxD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QUMsQ0FBQztJQUM3QyxDQUFDLENBQUMsQ0FBQztBQUNMLENBQUMsQ0FBQyxDQUFDIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIi9Vc2Vycy9jaHJpc3R5bWF4d2VsbC9EZXNrdG9wL0x1a2VfU3R1ZmYvR2l0SHViL1NDL2NvcmUvc3JjL3ZvaWNlL3ZvaWNlLnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBWb2ljZSBNb2R1bGUgVGVzdHNcbiAqIFxuICogVGVzdHMgZm9yIHZvaWNlIG1lc3NhZ2UgbWV0YWRhdGEgYW5kIGNvZGVjIGNvbmZpZ3VyYXRpb25cbiAqL1xuXG5pbXBvcnQgeyBkZXNjcmliZSwgaXQsIGV4cGVjdCB9IGZyb20gJ0BqZXN0L2dsb2JhbHMnO1xuaW1wb3J0IHtcbiAgY3JlYXRlVm9pY2VNZXNzYWdlTWV0YWRhdGEsXG4gIGZvcm1hdER1cmF0aW9uLFxuICBWb2ljZU1lc3NhZ2VNZXRhZGF0YVxufSBmcm9tICcuL21ldGFkYXRhJztcbmltcG9ydCB7XG4gIE9wdXNDb25maWcsXG4gIGRlZmF1bHRWb0lQQ29uZmlnLFxuICBoaWdoUXVhbGl0eUNvbmZpZyxcbiAgbG93TGF0ZW5jeUNvbmZpZ1xufSBmcm9tICcuL29wdXMnO1xuXG5kZXNjcmliZSgnVm9pY2UgTWVzc2FnZSBNZXRhZGF0YScsICgpID0+IHtcbiAgZGVzY3JpYmUoJ2NyZWF0ZVZvaWNlTWVzc2FnZU1ldGFkYXRhJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgY3JlYXRlIHZhbGlkIG1ldGFkYXRhJywgKCkgPT4ge1xuICAgICAgY29uc3QgbWV0YWRhdGEgPSBjcmVhdGVWb2ljZU1lc3NhZ2VNZXRhZGF0YShcbiAgICAgICAgJ21zZy0xMjMnLFxuICAgICAgICA1MDAwLCAvLyA1IHNlY29uZHNcbiAgICAgICAgMTYwMDAsIC8vIDE2a0h6XG4gICAgICAgIDI0MDAwLCAvLyAyNGticHNcbiAgICAgICAgJ29wdXMnLFxuICAgICAgICAnc2VuZGVyLTQ1NicsXG4gICAgICAgIDE1MDAwLCAvLyAxNUtCXG4gICAgICAgIFsxMCwgMjAsIDMwLCA0MCwgNTBdXG4gICAgICApO1xuXG4gICAgICBleHBlY3QobWV0YWRhdGEuaWQpLnRvQmUoJ21zZy0xMjMnKTtcbiAgICAgIGV4cGVjdChtZXRhZGF0YS5kdXJhdGlvbikudG9CZSg1MDAwKTtcbiAgICAgIGV4cGVjdChtZXRhZGF0YS5zYW1wbGVSYXRlKS50b0JlKDE2MDAwKTtcbiAgICAgIGV4cGVjdChtZXRhZGF0YS5iaXRyYXRlKS50b0JlKDI0MDAwKTtcbiAgICAgIGV4cGVjdChtZXRhZGF0YS5jb2RlYykudG9CZSgnb3B1cycpO1xuICAgICAgZXhwZWN0KG1ldGFkYXRhLnNlbmRlcklkKS50b0JlKCdzZW5kZXItNDU2Jyk7XG4gICAgICBleHBlY3QobWV0YWRhdGEuc2l6ZSkudG9CZSgxNTAwMCk7XG4gICAgICBleHBlY3QobWV0YWRhdGEud2F2ZWZvcm0pLnRvRXF1YWwoWzEwLCAyMCwgMzAsIDQwLCA1MF0pO1xuICAgICAgZXhwZWN0KG1ldGFkYXRhLnRpbWVzdGFtcCkudG9CZURlZmluZWQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgY3JlYXRlIG1ldGFkYXRhIHdpdGhvdXQgd2F2ZWZvcm0nLCAoKSA9PiB7XG4gICAgICBjb25zdCBtZXRhZGF0YSA9IGNyZWF0ZVZvaWNlTWVzc2FnZU1ldGFkYXRhKFxuICAgICAgICAnbXNnLTEyMycsXG4gICAgICAgIDUwMDAsXG4gICAgICAgIDE2MDAwLFxuICAgICAgICAyNDAwMCxcbiAgICAgICAgJ29wdXMnLFxuICAgICAgICAnc2VuZGVyLTQ1NicsXG4gICAgICAgIDE1MDAwXG4gICAgICApO1xuXG4gICAgICBleHBlY3QobWV0YWRhdGEud2F2ZWZvcm0pLnRvQmVVbmRlZmluZWQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgc3VwcG9ydCBBQUMgY29kZWMnLCAoKSA9PiB7XG4gICAgICBjb25zdCBtZXRhZGF0YSA9IGNyZWF0ZVZvaWNlTWVzc2FnZU1ldGFkYXRhKFxuICAgICAgICAnbXNnLTEyMycsXG4gICAgICAgIDUwMDAsXG4gICAgICAgIDQ0MTAwLFxuICAgICAgICAxMjgwMDAsXG4gICAgICAgICdhYWMnLFxuICAgICAgICAnc2VuZGVyLTQ1NicsXG4gICAgICAgIDMwMDAwXG4gICAgICApO1xuXG4gICAgICBleHBlY3QobWV0YWRhdGEuY29kZWMpLnRvQmUoJ2FhYycpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBnZW5lcmF0ZSB0aW1lc3RhbXAgYXV0b21hdGljYWxseScsICgpID0+IHtcbiAgICAgIGNvbnN0IGJlZm9yZSA9IERhdGUubm93KCk7XG4gICAgICBjb25zdCBtZXRhZGF0YSA9IGNyZWF0ZVZvaWNlTWVzc2FnZU1ldGFkYXRhKFxuICAgICAgICAnbXNnLTEyMycsXG4gICAgICAgIDUwMDAsXG4gICAgICAgIDE2MDAwLFxuICAgICAgICAyNDAwMCxcbiAgICAgICAgJ29wdXMnLFxuICAgICAgICAnc2VuZGVyLTQ1NicsXG4gICAgICAgIDE1MDAwXG4gICAgICApO1xuICAgICAgY29uc3QgYWZ0ZXIgPSBEYXRlLm5vdygpO1xuXG4gICAgICBleHBlY3QobWV0YWRhdGEudGltZXN0YW1wKS50b0JlR3JlYXRlclRoYW5PckVxdWFsKGJlZm9yZSk7XG4gICAgICBleHBlY3QobWV0YWRhdGEudGltZXN0YW1wKS50b0JlTGVzc1RoYW5PckVxdWFsKGFmdGVyKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIHplcm8gZHVyYXRpb24nLCAoKSA9PiB7XG4gICAgICBjb25zdCBtZXRhZGF0YSA9IGNyZWF0ZVZvaWNlTWVzc2FnZU1ldGFkYXRhKFxuICAgICAgICAnbXNnLTEyMycsXG4gICAgICAgIDAsXG4gICAgICAgIDE2MDAwLFxuICAgICAgICAyNDAwMCxcbiAgICAgICAgJ29wdXMnLFxuICAgICAgICAnc2VuZGVyLTQ1NicsXG4gICAgICAgIDEwMDBcbiAgICAgICk7XG5cbiAgICAgIGV4cGVjdChtZXRhZGF0YS5kdXJhdGlvbikudG9CZSgwKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGxhcmdlIGR1cmF0aW9ucycsICgpID0+IHtcbiAgICAgIGNvbnN0IG1ldGFkYXRhID0gY3JlYXRlVm9pY2VNZXNzYWdlTWV0YWRhdGEoXG4gICAgICAgICdtc2ctMTIzJyxcbiAgICAgICAgMzYwMDAwMCwgLy8gMSBob3VyXG4gICAgICAgIDE2MDAwLFxuICAgICAgICAyNDAwMCxcbiAgICAgICAgJ29wdXMnLFxuICAgICAgICAnc2VuZGVyLTQ1NicsXG4gICAgICAgIDEwODAwMDAwIC8vIH4xME1CIGZvciAxIGhvdXJcbiAgICAgICk7XG5cbiAgICAgIGV4cGVjdChtZXRhZGF0YS5kdXJhdGlvbikudG9CZSgzNjAwMDAwKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGxhcmdlIGZpbGUgc2l6ZXMnLCAoKSA9PiB7XG4gICAgICBjb25zdCBtZXRhZGF0YSA9IGNyZWF0ZVZvaWNlTWVzc2FnZU1ldGFkYXRhKFxuICAgICAgICAnbXNnLTEyMycsXG4gICAgICAgIDMwMDAwMCwgLy8gNSBtaW51dGVzXG4gICAgICAgIDQ4MDAwLFxuICAgICAgICAxMjgwMDAsXG4gICAgICAgICdvcHVzJyxcbiAgICAgICAgJ3NlbmRlci00NTYnLFxuICAgICAgICA0ODAwMDAwIC8vIH40LjhNQlxuICAgICAgKTtcblxuICAgICAgZXhwZWN0KG1ldGFkYXRhLnNpemUpLnRvQmUoNDgwMDAwMCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdmb3JtYXREdXJhdGlvbicsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGZvcm1hdCBkdXJhdGlvbiBjb3JyZWN0bHknLCAoKSA9PiB7XG4gICAgICBleHBlY3QoZm9ybWF0RHVyYXRpb24oNTAwMCkpLnRvQmUoJzA6MDUnKTtcbiAgICAgIGV4cGVjdChmb3JtYXREdXJhdGlvbigzMDAwMCkpLnRvQmUoJzA6MzAnKTtcbiAgICAgIGV4cGVjdChmb3JtYXREdXJhdGlvbig2MDAwMCkpLnRvQmUoJzE6MDAnKTtcbiAgICAgIGV4cGVjdChmb3JtYXREdXJhdGlvbigxMjUwMDApKS50b0JlKCcyOjA1Jyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHBhZCBzZWNvbmRzIHdpdGggemVybycsICgpID0+IHtcbiAgICAgIGV4cGVjdChmb3JtYXREdXJhdGlvbigxMDAwKSkudG9CZSgnMDowMScpO1xuICAgICAgZXhwZWN0KGZvcm1hdER1cmF0aW9uKDkwMDApKS50b0JlKCcwOjA5Jyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSB6ZXJvIGR1cmF0aW9uJywgKCkgPT4ge1xuICAgICAgZXhwZWN0KGZvcm1hdER1cmF0aW9uKDApKS50b0JlKCcwOjAwJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBsb25nIGR1cmF0aW9ucycsICgpID0+IHtcbiAgICAgIGV4cGVjdChmb3JtYXREdXJhdGlvbigzNjAwMDAwKSkudG9CZSgnNjA6MDAnKTsgLy8gMSBob3VyXG4gICAgICBleHBlY3QoZm9ybWF0RHVyYXRpb24oNzIwMDAwMCkpLnRvQmUoJzEyMDowMCcpOyAvLyAyIGhvdXJzXG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJvdW5kIGRvd24gcGFydGlhbCBzZWNvbmRzJywgKCkgPT4ge1xuICAgICAgZXhwZWN0KGZvcm1hdER1cmF0aW9uKDE1MDApKS50b0JlKCcwOjAxJyk7XG4gICAgICBleHBlY3QoZm9ybWF0RHVyYXRpb24oMTk5OSkpLnRvQmUoJzA6MDEnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIHZhcmlvdXMgbWludXRlIHZhbHVlcycsICgpID0+IHtcbiAgICAgIGV4cGVjdChmb3JtYXREdXJhdGlvbig2MDAwMDApKS50b0JlKCcxMDowMCcpO1xuICAgICAgZXhwZWN0KGZvcm1hdER1cmF0aW9uKDE4MDAwMDApKS50b0JlKCczMDowMCcpO1xuICAgICAgZXhwZWN0KGZvcm1hdER1cmF0aW9uKDM1NDAwMDApKS50b0JlKCc1OTowMCcpO1xuICAgIH0pO1xuICB9KTtcbn0pO1xuXG5kZXNjcmliZSgnT3B1cyBDb25maWd1cmF0aW9uJywgKCkgPT4ge1xuICBkZXNjcmliZSgnZGVmYXVsdFZvSVBDb25maWcnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBoYXZlIGNvcnJlY3QgVm9JUCBzZXR0aW5ncycsICgpID0+IHtcbiAgICAgIGV4cGVjdChkZWZhdWx0Vm9JUENvbmZpZy5zYW1wbGVSYXRlKS50b0JlKDE2MDAwKTtcbiAgICAgIGV4cGVjdChkZWZhdWx0Vm9JUENvbmZpZy5jaGFubmVscykudG9CZSgxKTtcbiAgICAgIGV4cGVjdChkZWZhdWx0Vm9JUENvbmZpZy5iaXRyYXRlKS50b0JlKDI0MDAwKTtcbiAgICAgIGV4cGVjdChkZWZhdWx0Vm9JUENvbmZpZy5jb21wbGV4aXR5KS50b0JlKDUpO1xuICAgICAgZXhwZWN0KGRlZmF1bHRWb0lQQ29uZmlnLmZyYW1lU2l6ZSkudG9CZSgyMCk7XG4gICAgICBleHBlY3QoZGVmYXVsdFZvSVBDb25maWcuYXBwbGljYXRpb24pLnRvQmUoJ3ZvaXAnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgYmUgb3B0aW1pemVkIGZvciBiYW5kd2lkdGgnLCAoKSA9PiB7XG4gICAgICBleHBlY3QoZGVmYXVsdFZvSVBDb25maWcuYml0cmF0ZSkudG9CZUxlc3NUaGFuKDUwMDAwKTtcbiAgICAgIGV4cGVjdChkZWZhdWx0Vm9JUENvbmZpZy5jaGFubmVscykudG9CZSgxKTsgLy8gTW9ub1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBiYWxhbmNlIHF1YWxpdHkgYW5kIGNvbXBsZXhpdHknLCAoKSA9PiB7XG4gICAgICBleHBlY3QoZGVmYXVsdFZvSVBDb25maWcuY29tcGxleGl0eSkudG9CZUdyZWF0ZXJUaGFuT3JFcXVhbCgzKTtcbiAgICAgIGV4cGVjdChkZWZhdWx0Vm9JUENvbmZpZy5jb21wbGV4aXR5KS50b0JlTGVzc1RoYW5PckVxdWFsKDcpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnaGlnaFF1YWxpdHlDb25maWcnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBoYXZlIGNvcnJlY3QgaGlnaC1xdWFsaXR5IHNldHRpbmdzJywgKCkgPT4ge1xuICAgICAgZXhwZWN0KGhpZ2hRdWFsaXR5Q29uZmlnLnNhbXBsZVJhdGUpLnRvQmUoNDgwMDApO1xuICAgICAgZXhwZWN0KGhpZ2hRdWFsaXR5Q29uZmlnLmNoYW5uZWxzKS50b0JlKDIpO1xuICAgICAgZXhwZWN0KGhpZ2hRdWFsaXR5Q29uZmlnLmJpdHJhdGUpLnRvQmUoMTI4MDAwKTtcbiAgICAgIGV4cGVjdChoaWdoUXVhbGl0eUNvbmZpZy5jb21wbGV4aXR5KS50b0JlKDEwKTtcbiAgICAgIGV4cGVjdChoaWdoUXVhbGl0eUNvbmZpZy5mcmFtZVNpemUpLnRvQmUoMjApO1xuICAgICAgZXhwZWN0KGhpZ2hRdWFsaXR5Q29uZmlnLmFwcGxpY2F0aW9uKS50b0JlKCdhdWRpbycpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBwcmlvcml0aXplIHF1YWxpdHkgb3ZlciBiYW5kd2lkdGgnLCAoKSA9PiB7XG4gICAgICBleHBlY3QoaGlnaFF1YWxpdHlDb25maWcuYml0cmF0ZSkudG9CZUdyZWF0ZXJUaGFuKGRlZmF1bHRWb0lQQ29uZmlnLmJpdHJhdGUpO1xuICAgICAgZXhwZWN0KGhpZ2hRdWFsaXR5Q29uZmlnLmNvbXBsZXhpdHkpLnRvQmVHcmVhdGVyVGhhbihkZWZhdWx0Vm9JUENvbmZpZy5jb21wbGV4aXR5KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgdXNlIHN0ZXJlbycsICgpID0+IHtcbiAgICAgIGV4cGVjdChoaWdoUXVhbGl0eUNvbmZpZy5jaGFubmVscykudG9CZSgyKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2xvd0xhdGVuY3lDb25maWcnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBoYXZlIGNvcnJlY3QgbG93LWxhdGVuY3kgc2V0dGluZ3MnLCAoKSA9PiB7XG4gICAgICBleHBlY3QobG93TGF0ZW5jeUNvbmZpZy5zYW1wbGVSYXRlKS50b0JlKDE2MDAwKTtcbiAgICAgIGV4cGVjdChsb3dMYXRlbmN5Q29uZmlnLmNoYW5uZWxzKS50b0JlKDEpO1xuICAgICAgZXhwZWN0KGxvd0xhdGVuY3lDb25maWcuYml0cmF0ZSkudG9CZSgxNjAwMCk7XG4gICAgICBleHBlY3QobG93TGF0ZW5jeUNvbmZpZy5jb21wbGV4aXR5KS50b0JlKDMpO1xuICAgICAgZXhwZWN0KGxvd0xhdGVuY3lDb25maWcuZnJhbWVTaXplKS50b0JlKDEwKTtcbiAgICAgIGV4cGVjdChsb3dMYXRlbmN5Q29uZmlnLmFwcGxpY2F0aW9uKS50b0JlKCdsb3dkZWxheScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBtaW5pbWl6ZSBsYXRlbmN5JywgKCkgPT4ge1xuICAgICAgZXhwZWN0KGxvd0xhdGVuY3lDb25maWcuZnJhbWVTaXplKS50b0JlTGVzc1RoYW4oZGVmYXVsdFZvSVBDb25maWcuZnJhbWVTaXplKTtcbiAgICAgIGV4cGVjdChsb3dMYXRlbmN5Q29uZmlnLmNvbXBsZXhpdHkpLnRvQmVMZXNzVGhhbihkZWZhdWx0Vm9JUENvbmZpZy5jb21wbGV4aXR5KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgdXNlIG1pbmltYWwgcmVzb3VyY2VzJywgKCkgPT4ge1xuICAgICAgZXhwZWN0KGxvd0xhdGVuY3lDb25maWcuYml0cmF0ZSkudG9CZUxlc3NUaGFuT3JFcXVhbChkZWZhdWx0Vm9JUENvbmZpZy5iaXRyYXRlKTtcbiAgICAgIGV4cGVjdChsb3dMYXRlbmN5Q29uZmlnLmNvbXBsZXhpdHkpLnRvQmVMZXNzVGhhbk9yRXF1YWwoNSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdPcHVzQ29uZmlnIHZhbGlkYXRpb24nLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBzdXBwb3J0IGFsbCB2YWxpZCBzYW1wbGUgcmF0ZXMnLCAoKSA9PiB7XG4gICAgICBjb25zdCB2YWxpZFJhdGVzOiBBcnJheTxPcHVzQ29uZmlnWydzYW1wbGVSYXRlJ10+ID0gW1xuICAgICAgICA0ODAwMCwgMjQwMDAsIDE2MDAwLCAxMjAwMCwgODAwMFxuICAgICAgXTtcblxuICAgICAgdmFsaWRSYXRlcy5mb3JFYWNoKHJhdGUgPT4ge1xuICAgICAgICBjb25zdCBjb25maWc6IE9wdXNDb25maWcgPSB7XG4gICAgICAgICAgLi4uZGVmYXVsdFZvSVBDb25maWcsXG4gICAgICAgICAgc2FtcGxlUmF0ZTogcmF0ZVxuICAgICAgICB9O1xuICAgICAgICBleHBlY3QoY29uZmlnLnNhbXBsZVJhdGUpLnRvQmUocmF0ZSk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgc3VwcG9ydCBtb25vIGFuZCBzdGVyZW8nLCAoKSA9PiB7XG4gICAgICBjb25zdCBtb25vQ29uZmlnOiBPcHVzQ29uZmlnID0ge1xuICAgICAgICAuLi5kZWZhdWx0Vm9JUENvbmZpZyxcbiAgICAgICAgY2hhbm5lbHM6IDFcbiAgICAgIH07XG4gICAgICBjb25zdCBzdGVyZW9Db25maWc6IE9wdXNDb25maWcgPSB7XG4gICAgICAgIC4uLmRlZmF1bHRWb0lQQ29uZmlnLFxuICAgICAgICBjaGFubmVsczogMlxuICAgICAgfTtcblxuICAgICAgZXhwZWN0KG1vbm9Db25maWcuY2hhbm5lbHMpLnRvQmUoMSk7XG4gICAgICBleHBlY3Qoc3RlcmVvQ29uZmlnLmNoYW5uZWxzKS50b0JlKDIpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBzdXBwb3J0IGFsbCB2YWxpZCBmcmFtZSBzaXplcycsICgpID0+IHtcbiAgICAgIGNvbnN0IHZhbGlkRnJhbWVTaXplczogQXJyYXk8T3B1c0NvbmZpZ1snZnJhbWVTaXplJ10+ID0gW1xuICAgICAgICAyLjUsIDUsIDEwLCAyMCwgNDAsIDYwXG4gICAgICBdO1xuXG4gICAgICB2YWxpZEZyYW1lU2l6ZXMuZm9yRWFjaChzaXplID0+IHtcbiAgICAgICAgY29uc3QgY29uZmlnOiBPcHVzQ29uZmlnID0ge1xuICAgICAgICAgIC4uLmRlZmF1bHRWb0lQQ29uZmlnLFxuICAgICAgICAgIGZyYW1lU2l6ZTogc2l6ZVxuICAgICAgICB9O1xuICAgICAgICBleHBlY3QoY29uZmlnLmZyYW1lU2l6ZSkudG9CZShzaXplKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBzdXBwb3J0IGFsbCBhcHBsaWNhdGlvbiB0eXBlcycsICgpID0+IHtcbiAgICAgIGNvbnN0IGFwcGxpY2F0aW9uczogQXJyYXk8T3B1c0NvbmZpZ1snYXBwbGljYXRpb24nXT4gPSBbXG4gICAgICAgICd2b2lwJywgJ2F1ZGlvJywgJ2xvd2RlbGF5J1xuICAgICAgXTtcblxuICAgICAgYXBwbGljYXRpb25zLmZvckVhY2goYXBwID0+IHtcbiAgICAgICAgY29uc3QgY29uZmlnOiBPcHVzQ29uZmlnID0ge1xuICAgICAgICAgIC4uLmRlZmF1bHRWb0lQQ29uZmlnLFxuICAgICAgICAgIGFwcGxpY2F0aW9uOiBhcHBcbiAgICAgICAgfTtcbiAgICAgICAgZXhwZWN0KGNvbmZpZy5hcHBsaWNhdGlvbikudG9CZShhcHApO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGFjY2VwdCB2YWxpZCBiaXRyYXRlIHJhbmdlJywgKCkgPT4ge1xuICAgICAgY29uc3QgdmFsaWRCaXRyYXRlcyA9IFs2MDAwLCAyNDAwMCwgNjQwMDAsIDEyODAwMCwgNTEwMDAwXTtcblxuICAgICAgdmFsaWRCaXRyYXRlcy5mb3JFYWNoKGJpdHJhdGUgPT4ge1xuICAgICAgICBjb25zdCBjb25maWc6IE9wdXNDb25maWcgPSB7XG4gICAgICAgICAgLi4uZGVmYXVsdFZvSVBDb25maWcsXG4gICAgICAgICAgYml0cmF0ZVxuICAgICAgICB9O1xuICAgICAgICBleHBlY3QoY29uZmlnLmJpdHJhdGUpLnRvQmUoYml0cmF0ZSk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgYWNjZXB0IHZhbGlkIGNvbXBsZXhpdHkgcmFuZ2UnLCAoKSA9PiB7XG4gICAgICBmb3IgKGxldCBjb21wbGV4aXR5ID0gMDsgY29tcGxleGl0eSA8PSAxMDsgY29tcGxleGl0eSsrKSB7XG4gICAgICAgIGNvbnN0IGNvbmZpZzogT3B1c0NvbmZpZyA9IHtcbiAgICAgICAgICAuLi5kZWZhdWx0Vm9JUENvbmZpZyxcbiAgICAgICAgICBjb21wbGV4aXR5XG4gICAgICAgIH07XG4gICAgICAgIGV4cGVjdChjb25maWcuY29tcGxleGl0eSkudG9CZShjb21wbGV4aXR5KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0NvbmZpZ3VyYXRpb24gY29tcGFyaXNvbnMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBoYXZlIGluY3JlYXNpbmcgcXVhbGl0eSBsZXZlbHMnLCAoKSA9PiB7XG4gICAgICBleHBlY3QobG93TGF0ZW5jeUNvbmZpZy5iaXRyYXRlKS50b0JlTGVzc1RoYW4oZGVmYXVsdFZvSVBDb25maWcuYml0cmF0ZSk7XG4gICAgICBleHBlY3QoZGVmYXVsdFZvSVBDb25maWcuYml0cmF0ZSkudG9CZUxlc3NUaGFuKGhpZ2hRdWFsaXR5Q29uZmlnLmJpdHJhdGUpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYXZlIGluY3JlYXNpbmcgY29tcGxleGl0eSBsZXZlbHMnLCAoKSA9PiB7XG4gICAgICBleHBlY3QobG93TGF0ZW5jeUNvbmZpZy5jb21wbGV4aXR5KS50b0JlTGVzc1RoYW4oZGVmYXVsdFZvSVBDb25maWcuY29tcGxleGl0eSk7XG4gICAgICBleHBlY3QoZGVmYXVsdFZvSVBDb25maWcuY29tcGxleGl0eSkudG9CZUxlc3NUaGFuKGhpZ2hRdWFsaXR5Q29uZmlnLmNvbXBsZXhpdHkpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYXZlIHZhcnlpbmcgc2FtcGxlIHJhdGVzIGZvciB1c2UgY2FzZXMnLCAoKSA9PiB7XG4gICAgICBleHBlY3QobG93TGF0ZW5jeUNvbmZpZy5zYW1wbGVSYXRlKS50b0JlKDE2MDAwKTtcbiAgICAgIGV4cGVjdChkZWZhdWx0Vm9JUENvbmZpZy5zYW1wbGVSYXRlKS50b0JlKDE2MDAwKTtcbiAgICAgIGV4cGVjdChoaWdoUXVhbGl0eUNvbmZpZy5zYW1wbGVSYXRlKS50b0JlKDQ4MDAwKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1BlcmZvcm1hbmNlIGNoYXJhY3RlcmlzdGljcycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGNhbGN1bGF0ZSBhcHByb3hpbWF0ZSBkYXRhIHJhdGVzJywgKCkgPT4ge1xuICAgICAgLy8gQXBwcm94aW1hdGUgYnl0ZXMgcGVyIHNlY29uZCBmb3IgZWFjaCBjb25maWdcbiAgICAgIGNvbnN0IGxvd0xhdGVuY3lSYXRlID0gbG93TGF0ZW5jeUNvbmZpZy5iaXRyYXRlIC8gODtcbiAgICAgIGNvbnN0IHZvaXBSYXRlID0gZGVmYXVsdFZvSVBDb25maWcuYml0cmF0ZSAvIDg7XG4gICAgICBjb25zdCBoaWdoUXVhbGl0eVJhdGUgPSBoaWdoUXVhbGl0eUNvbmZpZy5iaXRyYXRlIC8gODtcblxuICAgICAgZXhwZWN0KGxvd0xhdGVuY3lSYXRlKS50b0JlKDIwMDApOyAvLyAyS0Ivc1xuICAgICAgZXhwZWN0KHZvaXBSYXRlKS50b0JlKDMwMDApOyAvLyAzS0Ivc1xuICAgICAgZXhwZWN0KGhpZ2hRdWFsaXR5UmF0ZSkudG9CZSgxNjAwMCk7IC8vIDE2S0Ivc1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBlc3RpbWF0ZSBmaWxlIHNpemVzIGZvciBkdXJhdGlvbicsICgpID0+IHtcbiAgICAgIGNvbnN0IGR1cmF0aW9uID0gNjAwMDA7IC8vIDYwIHNlY29uZHNcbiAgICAgIFxuICAgICAgY29uc3QgbG93TGF0ZW5jeVNpemUgPSAobG93TGF0ZW5jeUNvbmZpZy5iaXRyYXRlIC8gOCkgKiAoZHVyYXRpb24gLyAxMDAwKTtcbiAgICAgIGNvbnN0IHZvaXBTaXplID0gKGRlZmF1bHRWb0lQQ29uZmlnLmJpdHJhdGUgLyA4KSAqIChkdXJhdGlvbiAvIDEwMDApO1xuICAgICAgY29uc3QgaGlnaFF1YWxpdHlTaXplID0gKGhpZ2hRdWFsaXR5Q29uZmlnLmJpdHJhdGUgLyA4KSAqIChkdXJhdGlvbiAvIDEwMDApO1xuXG4gICAgICBleHBlY3QobG93TGF0ZW5jeVNpemUpLnRvQmUoMTIwMDAwKTsgLy8gMTIwS0IgZm9yIDEgbWludXRlXG4gICAgICBleHBlY3Qodm9pcFNpemUpLnRvQmUoMTgwMDAwKTsgLy8gMTgwS0IgZm9yIDEgbWludXRlXG4gICAgICBleHBlY3QoaGlnaFF1YWxpdHlTaXplKS50b0JlKDk2MDAwMCk7IC8vIDk2MEtCIGZvciAxIG1pbnV0ZVxuICAgIH0pO1xuICB9KTtcbn0pO1xuXG5kZXNjcmliZSgnSW50ZWdyYXRpb24gVGVzdHMnLCAoKSA9PiB7XG4gIGl0KCdzaG91bGQgY3JlYXRlIG1ldGFkYXRhIHdpdGggb3B1cyBjb25maWcnLCAoKSA9PiB7XG4gICAgY29uc3QgY29uZmlnID0gZGVmYXVsdFZvSVBDb25maWc7XG4gICAgY29uc3QgZHVyYXRpb24gPSAzMDAwMDsgLy8gMzAgc2Vjb25kc1xuICAgIGNvbnN0IGVzdGltYXRlZFNpemUgPSAoY29uZmlnLmJpdHJhdGUgLyA4KSAqIChkdXJhdGlvbiAvIDEwMDApO1xuXG4gICAgY29uc3QgbWV0YWRhdGEgPSBjcmVhdGVWb2ljZU1lc3NhZ2VNZXRhZGF0YShcbiAgICAgICdtc2ctMTIzJyxcbiAgICAgIGR1cmF0aW9uLFxuICAgICAgY29uZmlnLnNhbXBsZVJhdGUsXG4gICAgICBjb25maWcuYml0cmF0ZSxcbiAgICAgICdvcHVzJyxcbiAgICAgICdzZW5kZXItNDU2JyxcbiAgICAgIGVzdGltYXRlZFNpemVcbiAgICApO1xuXG4gICAgZXhwZWN0KG1ldGFkYXRhLmR1cmF0aW9uKS50b0JlKGR1cmF0aW9uKTtcbiAgICBleHBlY3QobWV0YWRhdGEuc2FtcGxlUmF0ZSkudG9CZShjb25maWcuc2FtcGxlUmF0ZSk7XG4gICAgZXhwZWN0KG1ldGFkYXRhLmJpdHJhdGUpLnRvQmUoY29uZmlnLmJpdHJhdGUpO1xuICAgIGV4cGVjdChtZXRhZGF0YS5zaXplKS50b0JlKGVzdGltYXRlZFNpemUpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGZvcm1hdCBtZXRhZGF0YSBkdXJhdGlvbiBjb3JyZWN0bHknLCAoKSA9PiB7XG4gICAgY29uc3QgbWV0YWRhdGEgPSBjcmVhdGVWb2ljZU1lc3NhZ2VNZXRhZGF0YShcbiAgICAgICdtc2ctMTIzJyxcbiAgICAgIDEyNTAwMCxcbiAgICAgIDE2MDAwLFxuICAgICAgMjQwMDAsXG4gICAgICAnb3B1cycsXG4gICAgICAnc2VuZGVyLTQ1NicsXG4gICAgICAzNzUwMFxuICAgICk7XG5cbiAgICBjb25zdCBmb3JtYXR0ZWQgPSBmb3JtYXREdXJhdGlvbihtZXRhZGF0YS5kdXJhdGlvbik7XG4gICAgZXhwZWN0KGZvcm1hdHRlZCkudG9CZSgnMjowNScpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGNyZWF0ZSBjb21wbGV0ZSB2b2ljZSBtZXNzYWdlIHdvcmtmbG93JywgKCkgPT4ge1xuICAgIC8vIDEuIENob29zZSBjb25maWdcbiAgICBjb25zdCBjb25maWcgPSBkZWZhdWx0Vm9JUENvbmZpZztcbiAgICBcbiAgICAvLyAyLiBDYWxjdWxhdGUgZXN0aW1hdGVkIHNpemUgZm9yIDQ1IHNlY29uZHNcbiAgICBjb25zdCBkdXJhdGlvbiA9IDQ1MDAwO1xuICAgIGNvbnN0IGVzdGltYXRlZFNpemUgPSAoY29uZmlnLmJpdHJhdGUgLyA4KSAqIChkdXJhdGlvbiAvIDEwMDApO1xuICAgIFxuICAgIC8vIDMuIENyZWF0ZSBtZXRhZGF0YVxuICAgIGNvbnN0IG1ldGFkYXRhID0gY3JlYXRlVm9pY2VNZXNzYWdlTWV0YWRhdGEoXG4gICAgICAndm9pY2UtMDAxJyxcbiAgICAgIGR1cmF0aW9uLFxuICAgICAgY29uZmlnLnNhbXBsZVJhdGUsXG4gICAgICBjb25maWcuYml0cmF0ZSxcbiAgICAgICdvcHVzJyxcbiAgICAgICd1c2VyLTEyMycsXG4gICAgICBlc3RpbWF0ZWRTaXplLFxuICAgICAgWzEwLCAyMCwgMzAsIDQwLCA1MCwgNjAsIDcwLCA4MCwgOTAsIDEwMF1cbiAgICApO1xuICAgIFxuICAgIC8vIDQuIEZvcm1hdCBmb3IgZGlzcGxheVxuICAgIGNvbnN0IGRpc3BsYXlEdXJhdGlvbiA9IGZvcm1hdER1cmF0aW9uKG1ldGFkYXRhLmR1cmF0aW9uKTtcbiAgICBcbiAgICAvLyBWZXJpZnkgY29tcGxldGUgd29ya2Zsb3dcbiAgICBleHBlY3QobWV0YWRhdGEuaWQpLnRvQmUoJ3ZvaWNlLTAwMScpO1xuICAgIGV4cGVjdChtZXRhZGF0YS5jb2RlYykudG9CZSgnb3B1cycpO1xuICAgIGV4cGVjdChkaXNwbGF5RHVyYXRpb24pLnRvQmUoJzA6NDUnKTtcbiAgICBleHBlY3QobWV0YWRhdGEud2F2ZWZvcm0pLnRvSGF2ZUxlbmd0aCgxMCk7XG4gIH0pO1xufSk7XG4iXSwidmVyc2lvbiI6M30=