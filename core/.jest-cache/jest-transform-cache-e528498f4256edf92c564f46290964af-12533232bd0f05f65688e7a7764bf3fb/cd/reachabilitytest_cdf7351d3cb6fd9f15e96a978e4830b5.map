{"file":"/Users/christymaxwell/Desktop/Luke_Stuff/GitHub/SC/core/src/discovery/reachability.test.ts","mappings":"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","names":[],"sources":["/Users/christymaxwell/Desktop/Luke_Stuff/GitHub/SC/core/src/discovery/reachability.test.ts"],"sourcesContent":["/**\n * Tests for Enhanced Reachability Verification\n */\n\nimport { describe, it, expect, beforeEach, afterEach } from '@jest/globals';\nimport {\n  ReachabilityVerifier,\n  testPeerReachability,\n  type PingMessage,\n  type PongMessage,\n  type ReachabilityResult,\n} from './reachability';\n\ndescribe('Enhanced Reachability Verification', () => {\n  let verifier: ReachabilityVerifier;\n\n  beforeEach(() => {\n    verifier = new ReachabilityVerifier({\n      timeout: 1000,        // 1 second for faster tests\n      maxAttempts: 2,\n      methods: ['direct', 'webrtc'],\n      cacheTimeout: 5000,   // 5 seconds\n    });\n  });\n\n  afterEach(() => {\n    verifier.cleanup();\n  });\n\n  describe('testReachability', () => {\n    it('should detect reachable peer', async () => {\n      const mockSendPing = async (peerId: string, ping: PingMessage) => {\n        // Simulate pong response\n        setTimeout(() => {\n          const pong: PongMessage = verifier.createPong(ping);\n          verifier.handlePong(pong);\n        }, 50);\n      };\n\n      const result = await verifier.testReachability('peer-1', mockSendPing);\n\n      expect(result.reachable).toBe(true);\n      expect(result.peerId).toBe('peer-1');\n      expect(result.latency).toBeGreaterThan(0);\n      expect(result.method).toBeDefined();\n    });\n\n    it('should detect unreachable peer', async () => {\n      const mockSendPing = async () => {\n        // Never send pong (simulate timeout)\n      };\n\n      const result = await verifier.testReachability('peer-2', mockSendPing);\n\n      expect(result.reachable).toBe(false);\n      expect(result.peerId).toBe('peer-2');\n      expect(result.error).toBeDefined();\n    }, 10000); // 10 second timeout for this test\n\n    it('should measure latency accurately', async () => {\n      const expectedLatency = 100; // ms\n      \n      const mockSendPing = async (peerId: string, ping: PingMessage) => {\n        setTimeout(() => {\n          const pong: PongMessage = verifier.createPong(ping);\n          verifier.handlePong(pong);\n        }, expectedLatency);\n      };\n\n      const result = await verifier.testReachability('peer-3', mockSendPing);\n\n      expect(result.reachable).toBe(true);\n      expect(result.latency).toBeGreaterThanOrEqual(expectedLatency - 10);\n      expect(result.latency).toBeLessThanOrEqual(expectedLatency + 50);\n    });\n\n    it('should try multiple methods', async () => {\n      const attemptedMethods: string[] = [];\n      \n      const mockSendPing = async (peerId: string, ping: PingMessage) => {\n        attemptedMethods.push(ping.method);\n        \n        // Only succeed on second method\n        if (ping.method === 'webrtc') {\n          setTimeout(() => {\n            const pong: PongMessage = verifier.createPong(ping);\n            verifier.handlePong(pong);\n          }, 10);\n        }\n      };\n\n      const result = await verifier.testReachability('peer-4', mockSendPing);\n\n      expect(result.reachable).toBe(true);\n      expect(result.method).toBe('webrtc');\n      expect(attemptedMethods).toContain('direct');\n      expect(attemptedMethods).toContain('webrtc');\n    });\n\n    it('should retry on failure', async () => {\n      let attempts = 0;\n      \n      const mockSendPing = async (peerId: string, ping: PingMessage) => {\n        attempts++;\n        \n        // Succeed on second attempt\n        if (attempts >= 2) {\n          setTimeout(() => {\n            const pong: PongMessage = verifier.createPong(ping);\n            verifier.handlePong(pong);\n          }, 10);\n        }\n      };\n\n      const result = await verifier.testReachability('peer-5', mockSendPing);\n\n      expect(result.reachable).toBe(true);\n      expect(attempts).toBeGreaterThan(1);\n    });\n  });\n\n  describe('Caching', () => {\n    it('should cache successful results', async () => {\n      const mockSendPing = async (peerId: string, ping: PingMessage) => {\n        setTimeout(() => {\n          const pong: PongMessage = verifier.createPong(ping);\n          verifier.handlePong(pong);\n        }, 10);\n      };\n\n      // First call - actual test\n      const result1 = await verifier.testReachability('peer-6', mockSendPing);\n      expect(result1.reachable).toBe(true);\n\n      // Second call - should use cache (no ping sent)\n      let pingsSent = 0;\n      const countingSendPing = async (peerId: string, ping: PingMessage) => {\n        pingsSent++;\n        await mockSendPing(peerId, ping);\n      };\n\n      const result2 = await verifier.testReachability('peer-6', countingSendPing);\n      expect(result2.reachable).toBe(true);\n      expect(pingsSent).toBe(0); // Cache was used\n    });\n\n    it('should expire cached results', async () => {\n      const shortCacheVerifier = new ReachabilityVerifier({\n        timeout: 1000,\n        maxAttempts: 1,\n        methods: ['direct'],\n        cacheTimeout: 100, // 100ms\n      });\n\n      const mockSendPing = async (peerId: string, ping: PingMessage) => {\n        setTimeout(() => {\n          const pong: PongMessage = shortCacheVerifier.createPong(ping);\n          shortCacheVerifier.handlePong(pong);\n        }, 10);\n      };\n\n      // First call\n      await shortCacheVerifier.testReachability('peer-7', mockSendPing);\n\n      // Wait for cache to expire\n      await new Promise(resolve => setTimeout(resolve, 150));\n\n      // Second call - cache expired, should send ping\n      let pingsSent = 0;\n      const countingSendPing = async (peerId: string, ping: PingMessage) => {\n        pingsSent++;\n        await mockSendPing(peerId, ping);\n      };\n\n      await shortCacheVerifier.testReachability('peer-7', countingSendPing);\n      expect(pingsSent).toBeGreaterThan(0); // Cache expired, new ping sent\n\n      shortCacheVerifier.cleanup();\n    });\n\n    it('should clear cache on demand', async () => {\n      const mockSendPing = async (peerId: string, ping: PingMessage) => {\n        setTimeout(() => {\n          const pong: PongMessage = verifier.createPong(ping);\n          verifier.handlePong(pong);\n        }, 10);\n      };\n\n      await verifier.testReachability('peer-8', mockSendPing);\n      \n      const cached = verifier.getCached('peer-8');\n      expect(cached).not.toBeNull();\n\n      verifier.clearCache('peer-8');\n      \n      const cleared = verifier.getCached('peer-8');\n      expect(cleared).toBeNull();\n    });\n  });\n\n  describe('Status', () => {\n    it('should return reachable status', async () => {\n      const mockSendPing = async (peerId: string, ping: PingMessage) => {\n        setTimeout(() => {\n          const pong: PongMessage = verifier.createPong(ping);\n          verifier.handlePong(pong);\n        }, 10);\n      };\n\n      await verifier.testReachability('peer-9', mockSendPing);\n      \n      const status = verifier.getStatus('peer-9');\n      expect(status).toBe('reachable');\n    });\n\n    it('should return unreachable status', async () => {\n      const mockSendPing = async () => {\n        // Never respond\n      };\n\n      await verifier.testReachability('peer-10', mockSendPing);\n      \n      const status = verifier.getStatus('peer-10');\n      expect(status).toBe('unreachable');\n    }, 10000); // 10 second timeout\n\n    it('should return unknown status for untested peer', () => {\n      const status = verifier.getStatus('peer-11');\n      expect(status).toBe('unknown');\n    });\n  });\n\n  describe('Latency Measurement', () => {\n    it('should measure latency multiple times', async () => {\n      const mockSendPing = async (peerId: string, ping: PingMessage) => {\n        setTimeout(() => {\n          const pong: PongMessage = verifier.createPong(ping);\n          verifier.handlePong(pong);\n        }, 50);\n      };\n\n      const latencies = await verifier.measureLatency('peer-12', mockSendPing, 3);\n\n      expect(latencies.length).toBe(3);\n      latencies.forEach(lat => {\n        expect(lat).toBeGreaterThan(0);\n      });\n    });\n\n    it('should calculate average latency', () => {\n      const latencies = [10, 20, 30, 40, 50];\n      const avg = ReachabilityVerifier.getAverageLatency(latencies);\n      expect(avg).toBe(30);\n    });\n\n    it('should calculate median latency', () => {\n      const latencies = [10, 50, 20, 40, 30];\n      const median = ReachabilityVerifier.getMedianLatency(latencies);\n      expect(median).toBe(30);\n    });\n\n    it('should calculate latency statistics', () => {\n      const latencies = [10, 20, 30, 40, 50];\n      const stats = ReachabilityVerifier.getLatencyStats(latencies);\n\n      expect(stats.min).toBe(10);\n      expect(stats.max).toBe(50);\n      expect(stats.avg).toBe(30);\n      expect(stats.median).toBe(30);\n      expect(stats.jitter).toBeGreaterThan(0);\n    });\n  });\n\n  describe('Events', () => {\n    it('should emit reachable event', async () => {\n      const events: ReachabilityResult[] = [];\n      verifier.on('reachable', (result) => events.push(result));\n\n      const mockSendPing = async (peerId: string, ping: PingMessage) => {\n        setTimeout(() => {\n          const pong: PongMessage = verifier.createPong(ping);\n          verifier.handlePong(pong);\n        }, 10);\n      };\n\n      await verifier.testReachability('peer-13', mockSendPing);\n\n      expect(events.length).toBe(1);\n      expect(events[0].reachable).toBe(true);\n    });\n\n    it('should emit unreachable event', async () => {\n      const events: ReachabilityResult[] = [];\n      verifier.on('unreachable', (result) => events.push(result));\n\n      const mockSendPing = async () => {\n        // Never respond\n      };\n\n      await verifier.testReachability('peer-14', mockSendPing);\n\n      expect(events.length).toBe(1);\n      expect(events[0].reachable).toBe(false);\n    }, 10000); // 10 second timeout\n  });\n\n  describe('Ping/Pong Protocol', () => {\n    it('should create valid ping message', async () => {\n      let capturedPing: PingMessage | undefined;\n\n      const mockSendPing = async (peerId: string, ping: PingMessage) => {\n        capturedPing = ping;\n        setTimeout(() => {\n          const pong: PongMessage = verifier.createPong(ping);\n          verifier.handlePong(pong);\n        }, 10);\n      };\n\n      await verifier.testReachability('peer-15', mockSendPing);\n\n      expect(capturedPing).toBeDefined();\n      expect(capturedPing!.type).toBe('ping');\n      expect(capturedPing!.id).toBeDefined();\n      expect(capturedPing!.timestamp).toBeGreaterThan(0);\n      expect(capturedPing!.method).toBeDefined();\n    });\n\n    it('should create valid pong message', async () => {\n      const ping: PingMessage = {\n        type: 'ping',\n        id: 'test-ping-123',\n        timestamp: Date.now(),\n        method: 'direct',\n      };\n\n      const pong = verifier.createPong(ping);\n\n      expect(pong.type).toBe('pong');\n      expect(pong.id).toBe(ping.id);\n      expect(pong.pingTimestamp).toBe(ping.timestamp);\n      expect(pong.pongTimestamp).toBeGreaterThan(0);\n    });\n\n    it('should handle pong correctly', async () => {\n      const mockSendPing = async (peerId: string, ping: PingMessage) => {\n        // Manually create and handle pong\n        const pong: PongMessage = {\n          type: 'pong',\n          id: ping.id,\n          pingTimestamp: ping.timestamp,\n          pongTimestamp: Date.now(),\n        };\n        \n        setTimeout(() => verifier.handlePong(pong), 10);\n      };\n\n      const result = await verifier.testReachability('peer-16', mockSendPing);\n      expect(result.reachable).toBe(true);\n    });\n  });\n\n  describe('Performance', () => {\n    it('should complete reachability test within 5 seconds', async () => {\n      const mockSendPing = async (peerId: string, ping: PingMessage) => {\n        setTimeout(() => {\n          const pong: PongMessage = verifier.createPong(ping);\n          verifier.handlePong(pong);\n        }, 10);\n      };\n\n      const startTime = Date.now();\n      await verifier.testReachability('peer-17', mockSendPing);\n      const duration = Date.now() - startTime;\n\n      expect(duration).toBeLessThan(5000);\n    });\n  });\n\n  describe('Utility Function', () => {\n    it('should test reachability with default settings', async () => {\n      const mockSendPing = async (peerId: string, ping: PingMessage) => {\n        setTimeout(() => {\n          const dummyVerifier = new ReachabilityVerifier();\n          const pong: PongMessage = dummyVerifier.createPong(ping);\n          \n          // We can't call handlePong on the internal verifier\n          // so we simulate it being handled\n        }, 10);\n      };\n\n      // This will timeout since we can't access the internal verifier\n      // but we test that the function exists and can be called\n      const promise = testPeerReachability('peer-18', mockSendPing);\n      expect(promise).toBeInstanceOf(Promise);\n    }, 10000); // Longer timeout for this test\n  });\n});\n"],"version":3}